{"ast":null,"code":"import \"antd/es/modal/style/css\";\nimport _Modal from \"antd/es/modal\";\nimport \"antd/es/tree-select/style/css\";\nimport _TreeSelect from \"antd/es/tree-select\";\nimport \"antd/es/form/style/css\";\nimport _Form from \"antd/es/form\";\nimport \"antd/es/space/style/css\";\nimport _Space from \"antd/es/space\";\nimport \"antd/es/button/style/css\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/tree/style/css\";\nimport _Tree from \"antd/es/tree\";\nimport \"antd/es/spin/style/css\";\nimport _Spin from \"antd/es/spin\";\nimport \"antd/es/message/style/css\";\nimport _message from \"antd/es/message\";\nimport \"antd/es/input/style/css\";\nimport _Input from \"antd/es/input\";\nimport \"antd/es/table/style/css\";\nimport _Table from \"antd/es/table\";\nvar _jsxFileName = \"D:\\\\WebStorm Project\\\\flowingcloud\\\\src\\\\pages\\\\Admin\\\\WorkSpace\\\\AddGroups\\\\index.jsx\";\nimport React, { Component } from 'react';\nimport axios from \"axios\";\nimport { ApartmentOutlined, DeleteOutlined, EditOutlined, PlusOutlined, PullRequestOutlined, VerticalAlignTopOutlined } from \"@ant-design/icons\";\nimport Store from \"../../../../redux/store\";\nimport addGroupStyle from './index.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  store\n} = Store;\nconst {\n  Column\n} = _Table;\nconst {\n  Search\n} = _Input;\n\nclass AddGroups extends Component {\n  /**\r\n   * 构造器，向服务器请求组织信息\r\n   * @param props\r\n   */\n  constructor(_props) {\n    super(_props);\n\n    this.updateGroupInfo = () => {\n      axios({\n        url: 'http://localhost:3000/api/orgGroup',\n        method: 'post',\n        headers: {\n          authorization: store.getState().token\n        }\n      }).then(response => {\n        const {\n          groups\n        } = response.data; //双循环求和，计算各组织节点下属的总成员数量\n\n        for (let i = 0; i < groups.length; i++) {\n          if (!groups[i].totalMembers) groups[i].totalMembers = Number.parseInt(groups[i].groupMembers);\n\n          if (groups[i].parent) {\n            for (let j = i + 1; j < groups.length; j++) {\n              if (groups[j].groupCode === groups[i].parent) {\n                if (!groups[j].totalMembers) groups[j].totalMembers = Number.parseInt(groups[j].groupMembers);\n                groups[j].totalMembers = groups[j].totalMembers + groups[i].totalMembers;\n                break;\n              }\n            }\n          }\n        } //对象的复制是针对引用地址的复制，需要遍历属性进行深度复制！\n\n\n        const newGroup = groups.map(item => {\n          const tmp = {};\n          const props = Object.getOwnPropertyNames(item);\n          props.forEach(prop => {\n            tmp[prop] = item[prop];\n          });\n          return tmp;\n        });\n        let treeData = ''; //加工组织数据\n\n        for (let i = 0; i < newGroup.length; i++) {\n          if (newGroup[i].parent) {\n            for (let j = i + 1; j < newGroup.length; j++) {\n              if (newGroup[j].groupCode === newGroup[i].parent) {\n                if (!newGroup[j].children) {\n                  newGroup[j].children = [];\n                }\n\n                const tmp = {\n                  title: newGroup[i].groupName,\n                  key: newGroup[i].groupCode,\n                  rankIndex: newGroup[i].rankIndex\n                };\n\n                if (newGroup[i].children) {\n                  tmp.children = newGroup[i].children;\n                }\n\n                newGroup[j].children.push(tmp);\n              }\n            }\n          } else {\n            treeData = [{\n              title: newGroup[i].groupName,\n              key: newGroup[i].groupCode,\n              children: newGroup[i].children ? newGroup[i].children : []\n            }];\n          }\n        }\n\n        this.setState({\n          loading: false,\n          groups: groups,\n          treeData,\n          selected: '',\n          option: '',\n          confirmLoading: false\n        });\n      }).catch(e => {\n        this.setState({\n          loading: false,\n          option: '',\n          confirmLoading: false\n        });\n\n        _message.error(e.message).then();\n      });\n    };\n\n    this.hiddenModal = () => {\n      if (this.state.option === 'order') {\n        const {\n          originalChildren\n        } = this.state.selected;\n        this.setState({\n          option: '',\n          children: originalChildren\n        });\n      } else {\n        this.setState({\n          option: ''\n        });\n      }\n    };\n\n    this.showGroupInfo = (selectedKeys, e) => {\n      if (selectedKeys.length === 0) return;\n      const {\n        groups\n      } = this.state;\n      let selected = {};\n      const children = [];\n\n      for (let i = 0; i < groups.length; i++) {\n        if (groups[i].groupCode === selectedKeys[0]) {\n          selected.groupName = groups[i].groupName;\n          selected.members = groups[i].groupMembers;\n          selected.totalMembers = groups[i].totalMembers;\n          selected.key = groups[i].groupCode;\n          selected.parentName = '--';\n          selected.parentKey = groups[i].parent;\n\n          for (let j = 0; j < groups.length; j++) {\n            if (groups[j].groupCode === selected.parentKey) {\n              selected.parentName = groups[j].groupName;\n              break;\n            }\n          }\n\n          if (e.node.children && e.node.children.length > 0) {\n            e.node.children.forEach(item => {\n              children.push({\n                title: item.title,\n                key: item.key,\n                rankIndex: item.rankIndex\n              });\n            });\n          }\n\n          break;\n        }\n      }\n\n      this.setState({\n        selected,\n        originalChildren: children,\n        children\n      });\n    };\n\n    this.showEditGroup = () => {\n      const {\n        selected,\n        groups\n      } = this.state;\n\n      if (groups.length === 1) {\n        const group = {\n          title: groups[0].groupName,\n          value: groups[0].groupCode\n        };\n        this.setState({\n          option: 'edit',\n          enableGroup: [group]\n        }, () => {\n          this.editForm.setFieldsValue({\n            groupName: group.title,\n            parent: group.value\n          });\n        });\n        return;\n      } //执行深度复制\n\n\n      const newGroup = groups.map(item => {\n        const tmp = {};\n        const props = Object.getOwnPropertyNames(item);\n        props.forEach(prop => {\n          tmp[prop] = item[prop];\n        });\n        return tmp;\n      }); //过滤返回新数组\n\n      const tmp = newGroup.filter(item => {\n        if (!item.parent) return true;\n        return !item.groupCode.includes(selected.key);\n      });\n\n      for (let i = 0; i < tmp.length; i++) {\n        if (tmp[i].parent) {\n          for (let j = i + 1; j < tmp.length; j++) {\n            if (tmp[j].groupCode === tmp[i].parent) {\n              if (!tmp[j].children) {\n                tmp[j].children = [];\n              }\n\n              if (tmp[i].children) {\n                tmp[j].children.push({\n                  title: tmp[i].groupName,\n                  value: tmp[i].groupCode,\n                  children: tmp[i].children\n                });\n              } else {\n                tmp[j].children.push({\n                  title: tmp[i].groupName,\n                  value: tmp[i].groupCode\n                });\n              }\n            }\n          }\n        } else {\n          const tmpGroup = {};\n          tmpGroup.title = tmp[i].groupName;\n          tmpGroup.value = tmp[i].groupCode;\n\n          if (tmp[i].children) {\n            tmpGroup.children = tmp[i].children;\n          }\n\n          this.setState({\n            option: 'edit',\n            enableGroup: [tmpGroup]\n          }, () => {\n            this.editForm.setFieldsValue({\n              groupName: this.state.selected.groupName,\n              parent: this.state.selected.parentKey ? this.state.selected.parentKey : this.state.selected.key\n            });\n          });\n        }\n      }\n    };\n\n    this.confirmEditGroup = () => {\n      const {\n        selected,\n        groups\n      } = this.state;\n      const value = this.editForm.getFieldsValue(true);\n\n      if (value.groupName === selected.groupName && value.parent === selected.parentKey) {\n        this.setState({\n          option: ''\n        });\n        return;\n      }\n\n      const group = {\n        groupCode: '',\n        groupName: value.groupName,\n        groupMembers: selected.members,\n        groupLevel: 1,\n        parent: value.parent,\n        rankIndex: 1,\n        originalCode: selected.key\n      };\n\n      if (selected.key === '001') {\n        group.groupCode = selected.key;\n        group.parent = '';\n      } else {\n        if (value.parent === selected.parentKey) {\n          group.groupCode = selected.key;\n        } else {\n          let index = 1;\n          groups.forEach(item => {\n            if (item.groupCode.includes(value.parent) && item.groupCode.length === value.parent.length + 3) {\n              index += 1;\n            }\n          });\n          let str = index.toString();\n\n          switch (str.length) {\n            case 1:\n              str = '00' + str;\n              break;\n\n            case 2:\n              str = '0' + str;\n              break;\n\n            default:\n              break;\n          }\n\n          group.groupCode = `${value.parent}${str}`;\n        }\n\n        group.groupLevel = group.groupCode.length / 3;\n        group.rankIndex = Number.parseInt(group.groupCode.slice(-3));\n      }\n\n      this.setState({\n        confirmLoading: true\n      });\n      axios({\n        url: 'http://localhost:3000/api/orgGroup',\n        method: 'put',\n        headers: {\n          authorization: store.getState().token\n        },\n        data: group\n      }).then(() => {\n        this.updateGroupInfo();\n\n        _message.success('组织信息修改成功！').then();\n      }).catch();\n    };\n\n    this.showAddModal = () => {\n      const {\n        selected\n      } = this.state;\n      const group = {\n        title: selected.groupName,\n        value: selected.key\n      };\n      this.setState({\n        option: 'add',\n        enableGroup: [group]\n      }, () => {\n        this.addForm.setFieldsValue({\n          groupName: '',\n          parent: group.value\n        });\n      });\n    };\n\n    this.confirmAddGroup = () => {\n      const {\n        groups,\n        selected\n      } = this.state;\n      const group = this.addForm.getFieldsValue(true);\n      const codes = [];\n      groups.forEach(item => {\n        if (item.parent === selected.key) {\n          codes.push(item.groupCode);\n        }\n      });\n      let code = (codes.length + 1).toString();\n\n      switch (code.length) {\n        case 1:\n          code = '00' + code;\n          break;\n\n        case 2:\n          code = '0' + code;\n          break;\n\n        default:\n          break;\n      }\n\n      group.groupCode = selected.key.concat(code);\n      group.groupLevel = group.groupCode.length / 3;\n      group.groupMembers = 0;\n      group.rankIndex = Number.parseInt(group.groupCode.slice(-3));\n      this.setState({\n        confirmLoading: true\n      });\n      axios({\n        method: 'put',\n        url: 'http://localhost:3000/api/addGroup',\n        data: group,\n        headers: {\n          authorization: store.getState().token\n        }\n      }).then(response => {\n        _message.success(`${response.data.msg}正在从服务器更新组织信息，请稍候！`).then();\n\n        this.updateGroupInfo();\n      }).catch(e => {\n        this.setState({\n          loading: false,\n          option: '',\n          confirmLoading: false\n        });\n\n        _message.error(e.message).then();\n      });\n    };\n\n    this.deletGroup = () => {\n      const {\n        selected,\n        groups\n      } = this.state;\n\n      if (selected.key === '001') {\n        _message.error('不允许删除根节点！').then();\n\n        return;\n      }\n\n      const child = [];\n      groups.forEach(item => {\n        if (item.groupCode.startsWith(selected.key) && item.groupCode.length > selected.key.length) {\n          child.push([1]);\n        }\n      });\n\n      if (child.length > 0 || Number.parseInt(selected.members) > 0) {\n        _message.error('该组织有子节点或成员，需先删除子节点或成员！').then();\n      } else {\n        axios({\n          method: 'delete',\n          url: 'http://localhost:3000/api/deleteGroup',\n          data: {\n            groupCode: selected.key\n          },\n          headers: {\n            authorization: store.getState().token\n          }\n        }).then(response => {\n          _message.success(`${response.data.msg}正在从服务器更新组织信息，请稍候！`).then();\n\n          this.updateGroupInfo();\n        }).catch(err => {\n          _message.error(err.message).then();\n        });\n      }\n    };\n\n    this.searchGroup = value => {\n      const {\n        groups\n      } = this.state;\n\n      for (let i = 0; i < groups.length; i++) {\n        if (groups[i].groupName.includes(value)) {\n          const selected = {\n            groupName: groups[i].groupName,\n            members: groups[i].groupMembers,\n            key: groups[i].groupCode,\n            parentName: '--',\n            parentKey: groups[i].parent\n          };\n\n          for (let j = 0; j < groups.length; j++) {\n            if (groups[j].groupCode === selected.parentKey) {\n              selected.parentName = groups[j].groupName;\n              break;\n            }\n          }\n\n          this.setState({\n            selected\n          });\n          break;\n        }\n      }\n    };\n\n    this.orderNode = () => {\n      if (this.state.children.length > 1) {\n        this.setState({\n          option: 'order'\n        });\n      } else {\n        _message.info('当前组织的下级组织数量未达到排序条件！').then();\n      }\n    };\n\n    this.changeIndex = (_, record, index) => {\n      const thePiont = this;\n      return function () {\n        const {\n          children\n        } = thePiont.state;\n\n        if (index >= 1) {\n          //创建一个新的数组，不修改原有数组\n          const newChildren = children.map(item => {\n            const tmp = {};\n            const props = Object.getOwnPropertyNames(item);\n            props.forEach(prop => {\n              tmp[prop] = item[prop];\n            });\n            return tmp;\n          });\n          const tmp = newChildren[index - 1];\n          newChildren[index - 1] = newChildren[index];\n          newChildren[index - 1].rankIndex -= 1;\n          newChildren[index] = tmp;\n          newChildren[index].rankIndex += 1;\n          thePiont.setState({\n            children: newChildren\n          });\n        }\n      };\n    };\n\n    this.state = {\n      loading: true,\n      enableGroup: [],\n      confirmLoading: false\n    };\n    this.updateGroupInfo();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: addGroupStyle.container,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: addGroupStyle.left,\n        children: [/*#__PURE__*/_jsxDEV(Search, {\n          placeholder: \"\\u641C\\u7D22\\u7EC4\\u7EC7\",\n          onSearch: this.searchGroup\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '10px'\n          },\n          children: this.state.loading ? /*#__PURE__*/_jsxDEV(_Spin, {\n            tip: \"\\u6B63\\u5728\\u83B7\\u53D6\\u7EC4\\u7EC7\\u4FE1\\u606F\\uFF0C\\u8BF7\\u7A0D\\u5019......\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 424,\n            columnNumber: 33\n          }, this) : /*#__PURE__*/_jsxDEV(_Tree, {\n            treeData: this.state.treeData,\n            icon: /*#__PURE__*/_jsxDEV(ApartmentOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 425,\n              columnNumber: 76\n            }, this),\n            showIcon: true,\n            showLine: {\n              showLeafIcon: false\n            },\n            onSelect: this.showGroupInfo,\n            selectedKeys: this.state.selected ? [this.state.selected.key] : [],\n            expandedKeys: this.state.selected ? [this.state.selected.key] : [],\n            autoExpandParent: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: addGroupStyle.info,\n        children: /*#__PURE__*/_jsxDEV(_Table, {\n          locale: {\n            emptyText: '请选中具体组织后进行操作！'\n          },\n          pagination: {\n            hideOnSinglePage: true\n          },\n          dataSource: this.state.selected ? [this.state.selected] : [],\n          children: [/*#__PURE__*/_jsxDEV(Column, {\n            title: \"\\u7EC4\\u7EC7\\u540D\\u79F0\",\n            dataIndex: \"groupName\",\n            align: \"center\",\n            width: \"20%\"\n          }, 'groupName', false, {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Column, {\n            title: \"\\u4E0A\\u7EA7\\u7EC4\\u7EC7\",\n            dataIndex: \"parentName\",\n            align: \"center\",\n            width: \"20%\"\n          }, 'parentName', false, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Column, {\n            title: \"\\u5F53\\u524D\\u7EC4\\u7EC7\\u6210\\u5458\",\n            dataIndex: \"members\",\n            align: \"center\",\n            width: \"20%\"\n          }, 'members', false, {\n            fileName: _jsxFileName,\n            lineNumber: 438,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Column, {\n            title: \"\\u5173\\u8054\\u7EC4\\u7EC7\\u6210\\u5458\",\n            dataIndex: \"totalMembers\",\n            align: \"center\",\n            width: \"20%\"\n          }, 'totalMembers', false, {\n            fileName: _jsxFileName,\n            lineNumber: 439,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Column, {\n            title: \"\\u64CD\\u4F5C\",\n            dataIndex: \"option\",\n            align: \"center\",\n            width: \"20%\",\n            render: () => /*#__PURE__*/_jsxDEV(_Space, {\n              size: 12,\n              children: [/*#__PURE__*/_jsxDEV(_Button, {\n                type: \"link\",\n                icon: /*#__PURE__*/_jsxDEV(EditOutlined, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 443,\n                  columnNumber: 67\n                }, this),\n                title: \"\\u7F16\\u8F91\\u7EC4\\u7EC7\",\n                onClick: this.showEditGroup\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(_Button, {\n                type: \"link\",\n                icon: /*#__PURE__*/_jsxDEV(PlusOutlined, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 445,\n                  columnNumber: 67\n                }, this),\n                title: \"\\u589E\\u52A0\\u4E0B\\u7EA7\\u7EC4\\u7EC7\",\n                onClick: this.showAddModal\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 445,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(_Button, {\n                type: \"link\",\n                icon: /*#__PURE__*/_jsxDEV(PullRequestOutlined, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 447,\n                  columnNumber: 67\n                }, this),\n                title: \"\\u5B50\\u8282\\u70B9\\u6392\\u5E8F\",\n                onClick: this.orderNode\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 447,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(_Button, {\n                type: \"link\",\n                icon: /*#__PURE__*/_jsxDEV(DeleteOutlined, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 449,\n                  columnNumber: 67\n                }, this),\n                title: \"\\u5220\\u9664\\u7EC4\\u7EC7\",\n                onClick: this.deletGroup\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 449,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 442,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(_Modal, {\n        title: \"\\u7F16\\u8F91\\u7EC4\\u7EC7\",\n        maskClosable: false,\n        visible: this.state.option === 'edit',\n        okText: \"\\u786E\\u8BA4\",\n        cancelText: \"\\u53D6\\u6D88\",\n        onCancel: this.hiddenModal,\n        onOk: this.confirmEditGroup,\n        confirmLoading: this.state.confirmLoading,\n        children: /*#__PURE__*/_jsxDEV(_Form, {\n          labelCol: {\n            span: 4\n          },\n          wrapperCol: {\n            span: 19\n          },\n          ref: element => {\n            this.editForm = element;\n          },\n          children: [/*#__PURE__*/_jsxDEV(_Form.Item, {\n            label: \"\\u7EC4\\u7EC7\\u540D\\u79F0\",\n            name: \"groupName\",\n            required: true,\n            children: /*#__PURE__*/_jsxDEV(_Input, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 462,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(_Form.Item, {\n            label: \"\\u4E0A\\u7EA7\\u7EC4\\u7EC7\",\n            name: \"parent\",\n            children: /*#__PURE__*/_jsxDEV(_TreeSelect, {\n              treeData: this.state.enableGroup,\n              virtual: false\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 465,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 456,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(_Modal, {\n        title: \"\\u589E\\u52A0\\u4E0B\\u7EA7\\u90E8\\u95E8\",\n        maskClosable: false,\n        visible: this.state.option === 'add',\n        okText: \"\\u786E\\u8BA4\",\n        cancelText: \"\\u53D6\\u6D88\",\n        onCancel: this.hiddenModal,\n        onOk: this.confirmAddGroup,\n        confirmLoading: this.state.confirmLoading,\n        children: /*#__PURE__*/_jsxDEV(_Form, {\n          labelCol: {\n            span: 4\n          },\n          wrapperCol: {\n            span: 19\n          },\n          ref: element => {\n            this.addForm = element;\n          },\n          children: [/*#__PURE__*/_jsxDEV(_Form.Item, {\n            label: \"\\u7EC4\\u7EC7\\u540D\\u79F0\",\n            name: \"groupName\",\n            required: true,\n            children: /*#__PURE__*/_jsxDEV(_Input, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 478,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 477,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(_Form.Item, {\n            label: \"\\u4E0A\\u7EA7\\u7EC4\\u7EC7\",\n            name: \"parent\",\n            children: /*#__PURE__*/_jsxDEV(_TreeSelect, {\n              treeData: this.state.enableGroup,\n              virtual: false,\n              disabled: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 471,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(_Modal, {\n        title: \"\\u4E0B\\u7EA7\\u90E8\\u95E8\\u6392\\u5E8F\",\n        maskClosable: false,\n        visible: this.state.option === 'order',\n        okText: \"\\u786E\\u8BA4\",\n        cancelText: \"\\u53D6\\u6D88\",\n        onCancel: this.hiddenModal,\n        onOk: this.confirmOrderGroup,\n        confirmLoading: this.state.confirmLoading,\n        children: /*#__PURE__*/_jsxDEV(_Table, {\n          pagination: {\n            hideOnSinglePage: true\n          },\n          dataSource: this.state.children && this.state.children.length > 0 ? this.state.children : [],\n          children: [/*#__PURE__*/_jsxDEV(Column, {\n            title: \"\\u7EC4\\u7EC7\\u540D\\u79F0\",\n            dataIndex: \"title\",\n            align: \"center\",\n            width: \"30%\"\n          }, 'title', false, {\n            fileName: _jsxFileName,\n            lineNumber: 491,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Column, {\n            title: \"\\u7EC4\\u7EC7\\u6392\\u5E8F\",\n            dataIndex: \"rankIndex\",\n            align: \"center\",\n            width: \"30%\"\n          }, 'rankIndex', false, {\n            fileName: _jsxFileName,\n            lineNumber: 492,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Column, {\n            title: \"\\u8C03\\u6574\\u987A\\u5E8F\",\n            dataIndex: \"option\",\n            align: \"center\",\n            width: \"40%\",\n            render: (_, record, index) => /*#__PURE__*/_jsxDEV(_Button, {\n              type: \"link\",\n              icon: /*#__PURE__*/_jsxDEV(VerticalAlignTopOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 495,\n                columnNumber: 63\n              }, this),\n              title: \"\\u4E0A\\u79FB1\\u4F4D\",\n              onClick: this.changeIndex(_, record, index)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 495,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 493,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 486,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 418,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default AddGroups;","map":{"version":3,"sources":["D:/WebStorm Project/flowingcloud/src/pages/Admin/WorkSpace/AddGroups/index.jsx"],"names":["React","Component","axios","ApartmentOutlined","DeleteOutlined","EditOutlined","PlusOutlined","PullRequestOutlined","VerticalAlignTopOutlined","Store","addGroupStyle","store","Column","Search","AddGroups","constructor","props","updateGroupInfo","url","method","headers","authorization","getState","token","then","response","groups","data","i","length","totalMembers","Number","parseInt","groupMembers","parent","j","groupCode","newGroup","map","item","tmp","Object","getOwnPropertyNames","forEach","prop","treeData","children","title","groupName","key","rankIndex","push","setState","loading","selected","option","confirmLoading","catch","e","error","message","hiddenModal","state","originalChildren","showGroupInfo","selectedKeys","members","parentName","parentKey","node","showEditGroup","group","value","enableGroup","editForm","setFieldsValue","filter","includes","tmpGroup","confirmEditGroup","getFieldsValue","groupLevel","originalCode","index","str","toString","slice","success","showAddModal","addForm","confirmAddGroup","codes","code","concat","msg","deletGroup","child","startsWith","err","searchGroup","orderNode","info","changeIndex","_","record","thePiont","newChildren","render","container","left","marginTop","showLeafIcon","emptyText","hideOnSinglePage","span","element","confirmOrderGroup"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {Button, Space, Spin, Table, Tree, Input, Modal, Form, TreeSelect, message} from \"antd\";\r\nimport axios from \"axios\";\r\nimport {\r\n    ApartmentOutlined,\r\n    DeleteOutlined,\r\n    EditOutlined,\r\n    PlusOutlined,\r\n    PullRequestOutlined,\r\n    VerticalAlignTopOutlined\r\n} from \"@ant-design/icons\";\r\nimport Store from \"../../../../redux/store\";\r\nimport addGroupStyle from './index.module.css';\r\n\r\nconst {store} = Store;\r\nconst {Column} = Table;\r\nconst {Search} = Input;\r\n\r\nclass AddGroups extends Component {\r\n\r\n    /**\r\n     * 构造器，向服务器请求组织信息\r\n     * @param props\r\n     */\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {loading: true, enableGroup: [], confirmLoading: false};\r\n        this.updateGroupInfo();\r\n    }\r\n\r\n    updateGroupInfo = () => {\r\n        axios({\r\n            url: 'http://localhost:3000/api/orgGroup',\r\n            method: 'post',\r\n            headers: {authorization: store.getState().token}\r\n        }).then(response => {\r\n            const {groups} = response.data;\r\n            //双循环求和，计算各组织节点下属的总成员数量\r\n            for (let i = 0; i < groups.length; i++) {\r\n                if (!groups[i].totalMembers)\r\n                    groups[i].totalMembers = Number.parseInt(groups[i].groupMembers);\r\n                if (groups[i].parent) {\r\n                    for (let j = i + 1; j < groups.length; j++) {\r\n                        if (groups[j].groupCode === groups[i].parent) {\r\n                            if (!groups[j].totalMembers)\r\n                                groups[j].totalMembers = Number.parseInt(groups[j].groupMembers);\r\n                            groups[j].totalMembers = groups[j].totalMembers + groups[i].totalMembers;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            //对象的复制是针对引用地址的复制，需要遍历属性进行深度复制！\r\n            const newGroup = groups.map(item => {\r\n                const tmp = {};\r\n                const props = Object.getOwnPropertyNames(item);\r\n                props.forEach((prop) => {\r\n                    tmp[prop] = item[prop];\r\n                });\r\n                return tmp;\r\n            });\r\n\r\n\r\n            let treeData = '';\r\n\r\n            //加工组织数据\r\n            for (let i = 0; i < newGroup.length; i++) {\r\n                if (newGroup[i].parent) {\r\n                    for (let j = i + 1; j < newGroup.length; j++) {\r\n                        if (newGroup[j].groupCode === newGroup[i].parent) {\r\n                            if (!newGroup[j].children) {\r\n                                newGroup[j].children = [];\r\n                            }\r\n                            const tmp = {\r\n                                title: newGroup[i].groupName,\r\n                                key: newGroup[i].groupCode,\r\n                                rankIndex: newGroup[i].rankIndex\r\n                            };\r\n                            if (newGroup[i].children) {\r\n                                tmp.children = newGroup[i].children\r\n                            }\r\n                            newGroup[j].children.push(tmp);\r\n                        }\r\n                    }\r\n                } else {\r\n                    treeData = [{\r\n                        title: newGroup[i].groupName,\r\n                        key: newGroup[i].groupCode,\r\n                        children: newGroup[i].children ? newGroup[i].children : []\r\n                    }];\r\n                }\r\n            }\r\n            this.setState({loading: false, groups: groups, treeData, selected: '', option: '', confirmLoading: false});\r\n        }).catch(e => {\r\n            this.setState({loading: false, option: '', confirmLoading: false});\r\n            message.error(e.message).then();\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 隐藏对话框\r\n     */\r\n    hiddenModal = () => {\r\n        if (this.state.option === 'order') {\r\n            const {originalChildren} = this.state.selected;\r\n            this.setState({option: '', children:originalChildren});\r\n        } else {\r\n            this.setState({option: ''});\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 展示被选中的组织信息\r\n     * @param selectedKeys 被选中的key数组\r\n     * @param e 事件合成对象\r\n     */\r\n    showGroupInfo = (selectedKeys, e) => {\r\n        if (selectedKeys.length === 0)\r\n            return;\r\n        const {groups} = this.state;\r\n        let selected = {};\r\n        const children = [];\r\n        for (let i = 0; i < groups.length; i++) {\r\n            if (groups[i].groupCode === selectedKeys[0]) {\r\n                selected.groupName = groups[i].groupName;\r\n                selected.members = groups[i].groupMembers;\r\n                selected.totalMembers = groups[i].totalMembers;\r\n                selected.key = groups[i].groupCode;\r\n                selected.parentName = '--';\r\n                selected.parentKey = groups[i].parent;\r\n                for (let j = 0; j < groups.length; j++) {\r\n                    if (groups[j].groupCode === selected.parentKey) {\r\n                        selected.parentName = groups[j].groupName;\r\n                        break;\r\n                    }\r\n                }\r\n                if (e.node.children && e.node.children.length > 0) {\r\n                    e.node.children.forEach(item => {\r\n                        children.push({\r\n                            title: item.title,\r\n                            key: item.key,\r\n                            rankIndex: item.rankIndex\r\n                        });\r\n                    });\r\n                }\r\n                break;\r\n            }\r\n        }\r\n        this.setState({selected, originalChildren:children,children});\r\n    }\r\n\r\n    /**\r\n     * 展示编辑组织的对话框\r\n     */\r\n    showEditGroup = () => {\r\n        const {selected, groups} = this.state;\r\n        if (groups.length === 1) {\r\n            const group = {title: groups[0].groupName, value: groups[0].groupCode};\r\n            this.setState({option: 'edit', enableGroup: [group]}, () => {\r\n                this.editForm.setFieldsValue({groupName: group.title, parent: group.value});\r\n            });\r\n            return;\r\n        }\r\n\r\n        //执行深度复制\r\n        const newGroup = groups.map(item => {\r\n            const tmp = {};\r\n            const props = Object.getOwnPropertyNames(item);\r\n            props.forEach((prop) => {\r\n                tmp[prop] = item[prop];\r\n            });\r\n            return tmp;\r\n        });\r\n\r\n        //过滤返回新数组\r\n        const tmp = newGroup.filter(item => {\r\n            if (!item.parent)\r\n                return true;\r\n            return !item.groupCode.includes(selected.key);\r\n        });\r\n        for (let i = 0; i < tmp.length; i++) {\r\n            if (tmp[i].parent) {\r\n                for (let j = i + 1; j < tmp.length; j++) {\r\n                    if (tmp[j].groupCode === tmp[i].parent) {\r\n                        if (!tmp[j].children) {\r\n                            tmp[j].children = [];\r\n                        }\r\n                        if (tmp[i].children) {\r\n                            tmp[j].children.push({\r\n                                title: tmp[i].groupName,\r\n                                value: tmp[i].groupCode,\r\n                                children: tmp[i].children\r\n                            });\r\n                        } else {\r\n                            tmp[j].children.push({\r\n                                title: tmp[i].groupName,\r\n                                value: tmp[i].groupCode\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                const tmpGroup = {};\r\n                tmpGroup.title = tmp[i].groupName;\r\n                tmpGroup.value = tmp[i].groupCode\r\n                if (tmp[i].children) {\r\n                    tmpGroup.children = tmp[i].children;\r\n                }\r\n                this.setState({\r\n                    option: 'edit',\r\n                    enableGroup: [tmpGroup]\r\n                }, () => {\r\n                    this.editForm.setFieldsValue({\r\n                        groupName: this.state.selected.groupName,\r\n                        parent: this.state.selected.parentKey ? this.state.selected.parentKey : this.state.selected.key\r\n                    });\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 提交编辑后的组织信息\r\n     */\r\n    confirmEditGroup = () => {\r\n        const {selected, groups} = this.state;\r\n        const value = this.editForm.getFieldsValue(true);\r\n        if (value.groupName === selected.groupName && value.parent === selected.parentKey) {\r\n            this.setState({option: ''});\r\n            return;\r\n        }\r\n        const group = {\r\n            groupCode: '',\r\n            groupName: value.groupName,\r\n            groupMembers: selected.members,\r\n            groupLevel: 1,\r\n            parent: value.parent,\r\n            rankIndex: 1,\r\n            originalCode: selected.key\r\n        };\r\n        if (selected.key === '001') {\r\n            group.groupCode = selected.key;\r\n            group.parent = '';\r\n        } else {\r\n            if (value.parent === selected.parentKey) {\r\n                group.groupCode = selected.key;\r\n            } else {\r\n                let index = 1;\r\n                groups.forEach(item => {\r\n                    if (item.groupCode.includes(value.parent) && (item.groupCode.length === value.parent.length + 3)) {\r\n                        index += 1;\r\n                    }\r\n                });\r\n                let str = index.toString();\r\n                switch (str.length) {\r\n                    case 1:\r\n                        str = '00' + str;\r\n                        break;\r\n                    case 2:\r\n                        str = '0' + str;\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n                group.groupCode = `${value.parent}${str}`;\r\n            }\r\n            group.groupLevel = group.groupCode.length / 3;\r\n            group.rankIndex = Number.parseInt(group.groupCode.slice(-3));\r\n        }\r\n        this.setState({confirmLoading: true});\r\n        axios({\r\n            url: 'http://localhost:3000/api/orgGroup',\r\n            method: 'put',\r\n            headers: {authorization: store.getState().token},\r\n            data: group\r\n        }).then(() => {\r\n                this.updateGroupInfo();\r\n                message.success('组织信息修改成功！').then();\r\n            }\r\n        ).catch();\r\n    }\r\n\r\n    showAddModal = () => {\r\n        const {selected} = this.state;\r\n        const group = {title: selected.groupName, value: selected.key};\r\n        this.setState({option: 'add', enableGroup: [group]}, () => {\r\n            this.addForm.setFieldsValue({groupName: '', parent: group.value});\r\n        });\r\n    }\r\n\r\n    confirmAddGroup = () => {\r\n        const {groups, selected} = this.state;\r\n        const group = this.addForm.getFieldsValue(true);\r\n        const codes = [];\r\n        groups.forEach(item => {\r\n            if (item.parent === selected.key) {\r\n                codes.push(item.groupCode);\r\n            }\r\n        })\r\n        let code = (codes.length + 1).toString();\r\n        switch (code.length) {\r\n            case 1:\r\n                code = '00' + code;\r\n                break;\r\n            case 2:\r\n                code = '0' + code;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        group.groupCode = selected.key.concat(code);\r\n        group.groupLevel = group.groupCode.length / 3;\r\n        group.groupMembers = 0;\r\n        group.rankIndex = Number.parseInt(group.groupCode.slice(-3));\r\n        this.setState({confirmLoading: true});\r\n        axios({\r\n            method: 'put',\r\n            url: 'http://localhost:3000/api/addGroup',\r\n            data: group,\r\n            headers: {authorization: store.getState().token}\r\n        }).then(response => {\r\n                message.success(`${response.data.msg}正在从服务器更新组织信息，请稍候！`).then();\r\n                this.updateGroupInfo();\r\n            }\r\n        ).catch(e => {\r\n            this.setState({loading: false, option: '', confirmLoading: false});\r\n            message.error(e.message).then();\r\n        });\r\n    }\r\n\r\n    deletGroup = () => {\r\n        const {selected, groups} = this.state;\r\n        if (selected.key === '001') {\r\n            message.error('不允许删除根节点！').then();\r\n            return\r\n        }\r\n        const child = [];\r\n        groups.forEach(item => {\r\n            if (item.groupCode.startsWith(selected.key) && item.groupCode.length > selected.key.length) {\r\n                child.push([1]);\r\n            }\r\n        });\r\n        if (child.length > 0 || Number.parseInt(selected.members) > 0) {\r\n            message.error('该组织有子节点或成员，需先删除子节点或成员！').then();\r\n        } else {\r\n            axios({\r\n                method: 'delete',\r\n                url: 'http://localhost:3000/api/deleteGroup',\r\n                data: {groupCode: selected.key},\r\n                headers: {authorization: store.getState().token}\r\n            }).then((response) => {\r\n                message.success(`${response.data.msg}正在从服务器更新组织信息，请稍候！`).then();\r\n                this.updateGroupInfo();\r\n            }).catch(err => {\r\n                message.error(err.message).then();\r\n            });\r\n        }\r\n    }\r\n\r\n    searchGroup = (value) => {\r\n        const {groups} = this.state;\r\n        for (let i = 0; i < groups.length; i++) {\r\n            if (groups[i].groupName.includes(value)) {\r\n                const selected = {\r\n                    groupName: groups[i].groupName,\r\n                    members: groups[i].groupMembers,\r\n                    key: groups[i].groupCode,\r\n                    parentName: '--',\r\n                    parentKey: groups[i].parent,\r\n                };\r\n                for (let j = 0; j < groups.length; j++) {\r\n                    if (groups[j].groupCode === selected.parentKey) {\r\n                        selected.parentName = groups[j].groupName;\r\n                        break;\r\n                    }\r\n                }\r\n                this.setState({selected});\r\n                break;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    orderNode = () => {\r\n        if (this.state.children.length > 1) {\r\n            this.setState({option: 'order'})\r\n        } else {\r\n            message.info('当前组织的下级组织数量未达到排序条件！').then();\r\n        }\r\n    }\r\n\r\n    changeIndex = (_, record, index) => {\r\n        const thePiont = this;\r\n        return function () {\r\n            const {children} = thePiont.state;\r\n            if (index >= 1) {\r\n                //创建一个新的数组，不修改原有数组\r\n                const newChildren = children.map(item => {\r\n                    const tmp = {};\r\n                    const props = Object.getOwnPropertyNames(item);\r\n                    props.forEach((prop) => {\r\n                        tmp[prop] = item[prop];\r\n                    });\r\n                    return tmp;\r\n                });\r\n                const tmp = newChildren[index - 1];\r\n                newChildren[index - 1] = newChildren[index];\r\n                newChildren[index - 1].rankIndex -= 1;\r\n                newChildren[index] = tmp;\r\n                newChildren[index].rankIndex += 1;\r\n                thePiont.setState({children: newChildren});\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={addGroupStyle.container}>\r\n                <div className={addGroupStyle.left}>\r\n                    <Search placeholder='搜索组织' onSearch={this.searchGroup}/>\r\n                    <div style={{marginTop: '10px'}}>\r\n                        {\r\n                            this.state.loading ?\r\n                                <Spin tip='正在获取组织信息，请稍候......'/> :\r\n                                <Tree treeData={this.state.treeData} icon={<ApartmentOutlined/>} showIcon={true}\r\n                                      showLine={{showLeafIcon: false}} onSelect={this.showGroupInfo}\r\n                                      selectedKeys={this.state.selected ? [this.state.selected.key] : []}\r\n                                      expandedKeys={this.state.selected ? [this.state.selected.key] : []}\r\n                                      autoExpandParent={true}/>\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <div className={addGroupStyle.info}>\r\n                    <Table locale={{emptyText: '请选中具体组织后进行操作！'}} pagination={{hideOnSinglePage: true}}\r\n                           dataSource={this.state.selected ? [this.state.selected] : []}>\r\n                        <Column title='组织名称' dataIndex='groupName' key='groupName' align='center' width='20%'/>\r\n                        <Column title='上级组织' dataIndex='parentName' key='parentName' align='center' width='20%'/>\r\n                        <Column title='当前组织成员' dataIndex='members' key='members' align='center' width='20%'/>\r\n                        <Column title='关联组织成员' dataIndex='totalMembers' key='totalMembers' align='center' width='20%'/>\r\n                        <Column title='操作' dataIndex='option' align='center' width='20%'\r\n                                render={() => (\r\n                                    <Space size={12}>\r\n                                        <Button type='link' icon={<EditOutlined/>} title='编辑组织'\r\n                                                onClick={this.showEditGroup}/>\r\n                                        <Button type='link' icon={<PlusOutlined/>} title='增加下级组织'\r\n                                                onClick={this.showAddModal}/>\r\n                                        <Button type='link' icon={<PullRequestOutlined/>} title='子节点排序'\r\n                                                onClick={this.orderNode}/>\r\n                                        <Button type='link' icon={<DeleteOutlined/>} title='删除组织'\r\n                                                onClick={this.deletGroup}/>\r\n                                    </Space>\r\n                                )}/>\r\n                    </Table>\r\n                </div>\r\n                {/*Modal初始状态为不可见，未渲染，状态可见后才执行渲染，创建Form*/}\r\n                <Modal title='编辑组织' maskClosable={false} visible={this.state.option === 'edit'} okText='确认'\r\n                       cancelText='取消' onCancel={this.hiddenModal} onOk={this.confirmEditGroup}\r\n                       confirmLoading={this.state.confirmLoading}>\r\n                    <Form labelCol={{span: 4}} wrapperCol={{span: 19}} ref={element => {\r\n                        this.editForm = element;\r\n                    }}>\r\n                        <Form.Item label='组织名称' name='groupName' required>\r\n                            <Input/>\r\n                        </Form.Item>\r\n                        <Form.Item label='上级组织' name='parent'>\r\n                            <TreeSelect treeData={this.state.enableGroup} virtual={false}/>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Modal>\r\n\r\n                <Modal title='增加下级部门' maskClosable={false} visible={this.state.option === 'add'} okText='确认'\r\n                       cancelText='取消' onCancel={this.hiddenModal} onOk={this.confirmAddGroup}\r\n                       confirmLoading={this.state.confirmLoading}>\r\n                    <Form labelCol={{span: 4}} wrapperCol={{span: 19}} ref={element => {\r\n                        this.addForm = element;\r\n                    }}>\r\n                        <Form.Item label='组织名称' name='groupName' required>\r\n                            <Input/>\r\n                        </Form.Item>\r\n                        <Form.Item label='上级组织' name='parent'>\r\n                            <TreeSelect treeData={this.state.enableGroup} virtual={false} disabled={true}/>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Modal>\r\n\r\n                <Modal title='下级部门排序' maskClosable={false} visible={this.state.option === 'order'} okText='确认'\r\n                       cancelText='取消' onCancel={this.hiddenModal} onOk={this.confirmOrderGroup}\r\n                       confirmLoading={this.state.confirmLoading}>\r\n                    <Table pagination={{hideOnSinglePage: true}}\r\n                           dataSource={this.state.children && this.state.children.length > 0 ? this.state.children : []}>\r\n                        <Column title='组织名称' dataIndex='title' key='title' align='center' width='30%'/>\r\n                        <Column title='组织排序' dataIndex='rankIndex' key='rankIndex' align='center' width='30%'/>\r\n                        <Column title='调整顺序' dataIndex='option' align='center' width='40%'\r\n                                render={(_, record, index) => (\r\n                                    <Button type='link' icon={<VerticalAlignTopOutlined/>} title='上移1位'\r\n                                            onClick={this.changeIndex(_, record, index)}/>\r\n                                )}\r\n                        />\r\n                    </Table>\r\n                </Modal>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AddGroups;\r\n"]},"metadata":{},"sourceType":"module"}