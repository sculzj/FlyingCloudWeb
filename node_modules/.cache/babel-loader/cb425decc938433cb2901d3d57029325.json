{"ast":null,"code":"import \"antd/es/space/style/css\";\nimport _Space from \"antd/es/space\";\nimport \"antd/es/button/style/css\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/spin/style/css\";\nimport _Spin from \"antd/es/spin\";\nimport \"antd/es/input/style/css\";\nimport _Input from \"antd/es/input\";\nimport \"antd/es/table/style/css\";\nimport _Table from \"antd/es/table\";\nvar _jsxFileName = \"D:\\\\WebStorm Project\\\\flowingcloud\\\\src\\\\pages\\\\Admin\\\\WorkSpace\\\\AddGroups\\\\index.jsx\";\nimport React, { Component } from 'react';\nimport axios from \"axios\";\nimport { ApartmentOutlined, DeleteOutlined, EditOutlined, PlusOutlined } from \"@ant-design/icons\";\nimport Store from \"../../../../redux/store\";\nimport addGroupStyle from './index.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  store\n} = Store;\nconst {\n  Column\n} = _Table;\nconst {\n  Search\n} = _Input;\n\nclass AddGroups extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true\n    };\n    axios({\n      url: 'http://localhost:3000/api/orgGroup',\n      method: 'post',\n      headers: {\n        authorization: store.getState().token\n      }\n    }).then(response => {\n      const {\n        groups\n      } = response.data;\n      console.log(groups);\n      const treeData = ''; //加工组织数据\n\n      for (let i = 0; i < groups.length; i++) {\n        if (groups[i].parent) {\n          for (let j = i + 1; i < groups.length; j++) {\n            if (groups[j].groupCode === groups[i].parent) {\n              if (!groups[j].children) {\n                groups[j].children = [];\n              }\n\n              groups[j].children.push({\n                title: groups[i].groupName,\n                key: groups[i].groupCode\n              });\n            }\n          }\n        }\n      }\n\n      this.setState({\n        loading: false,\n        groups\n      }, () => {\n        console.log(this.state.groups);\n      });\n    }).catch();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: addGroupStyle.container,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: addGroupStyle.left,\n        children: [/*#__PURE__*/_jsxDEV(Search, {\n          placeholder: \"\\u641C\\u7D22\\u7EC4\\u7EC7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '10px'\n          },\n          children: this.state.loading ? /*#__PURE__*/_jsxDEV(_Spin, {\n            tip: \"\\u6B63\\u5728\\u83B7\\u53D6\\u7EC4\\u7EC7\\u4FE1\\u606F\\uFF0C\\u8BF7\\u7A0D\\u5019......\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 50\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 85\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: addGroupStyle.info,\n        children: /*#__PURE__*/_jsxDEV(_Table, {\n          locale: {\n            emptyText: '请选中具体组织后进行操作！'\n          },\n          pagination: {\n            hideOnSinglePage: true\n          },\n          children: [/*#__PURE__*/_jsxDEV(Column, {\n            title: \"\\u7EC4\\u7EC7\\u540D\\u79F0\",\n            dataIndex: \"groupName\",\n            align: \"center\",\n            width: \"25%\"\n          }, 'groupName', false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Column, {\n            title: \"\\u4E0A\\u7EA7\\u7EC4\\u7EC7\",\n            dataIndex: \"parent\",\n            align: \"center\",\n            width: \"25%\"\n          }, 'parent', false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Column, {\n            title: \"\\u6210\\u5458\\u6570\\u91CF\",\n            dataIndex: \"members\",\n            align: \"center\",\n            width: \"25%\"\n          }, 'members', false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Column, {\n            title: \"\\u64CD\\u4F5C\",\n            dataIndex: \"optin\",\n            align: \"center\",\n            width: \"25%\",\n            render: (text, record) => {\n              console.log(text, record);\n              return /*#__PURE__*/_jsxDEV(_Space, {\n                size: 15,\n                children: [/*#__PURE__*/_jsxDEV(_Button, {\n                  type: \"link\",\n                  prefix: /*#__PURE__*/_jsxDEV(EditOutlined, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 69,\n                    columnNumber: 73\n                  }, this),\n                  title: \"\\u7F16\\u8F91\\u7EC4\\u7EC7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 69,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(_Button, {\n                  type: \"link\",\n                  prefix: /*#__PURE__*/_jsxDEV(PlusOutlined, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 70,\n                    columnNumber: 73\n                  }, this),\n                  title: \"\\u589E\\u52A0\\u4E0B\\u7EA7\\u7EC4\\u7EC7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 70,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(_Button, {\n                  type: \"link\",\n                  prefix: /*#__PURE__*/_jsxDEV(DeleteOutlined, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 71,\n                    columnNumber: 73\n                  }, this),\n                  title: \"\\u5220\\u9664\\u7EC4\\u7EC7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 71,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 41\n              }, this);\n            }\n          }, 'option', false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default AddGroups;","map":{"version":3,"sources":["D:/WebStorm Project/flowingcloud/src/pages/Admin/WorkSpace/AddGroups/index.jsx"],"names":["React","Component","axios","ApartmentOutlined","DeleteOutlined","EditOutlined","PlusOutlined","Store","addGroupStyle","store","Column","Search","AddGroups","constructor","props","state","loading","url","method","headers","authorization","getState","token","then","response","groups","data","console","log","treeData","i","length","parent","j","groupCode","children","push","title","groupName","key","setState","catch","render","container","left","marginTop","info","emptyText","hideOnSinglePage","text","record"],"mappings":";;;;;;;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,iBAAR,EAA2BC,cAA3B,EAA2CC,YAA3C,EAAyDC,YAAzD,QAA4E,mBAA5E;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,aAAP,MAA0B,oBAA1B;;AAEA,MAAM;AAACC,EAAAA;AAAD,IAAUF,KAAhB;AACA,MAAM;AAACG,EAAAA;AAAD,UAAN;AACA,MAAM;AAACC,EAAAA;AAAD,UAAN;;AAEA,MAAMC,SAAN,SAAwBX,SAAxB,CAAkC;AAE9BY,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AADe,SAgCnBC,KAhCmB,GAgCX;AAACC,MAAAA,OAAO,EAAE;AAAV,KAhCW;AAEfd,IAAAA,KAAK,CAAC;AACFe,MAAAA,GAAG,EAAC,oCADF;AAEFC,MAAAA,MAAM,EAAC,MAFL;AAGFC,MAAAA,OAAO,EAAC;AAACC,QAAAA,aAAa,EAACX,KAAK,CAACY,QAAN,GAAiBC;AAAhC;AAHN,KAAD,CAAL,CAIGC,IAJH,CAIQC,QAAQ,IAAE;AACd,YAAM;AAACC,QAAAA;AAAD,UAASD,QAAQ,CAACE,IAAxB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYH,MAAZ;AACA,YAAMI,QAAQ,GAAC,EAAf,CAHc,CAId;;AACA,WAAK,IAAIC,CAAC,GAAC,CAAX,EAAaA,CAAC,GAACL,MAAM,CAACM,MAAtB,EAA6BD,CAAC,EAA9B,EAAiC;AAC7B,YAAIL,MAAM,CAACK,CAAD,CAAN,CAAUE,MAAd,EAAqB;AACjB,eAAK,IAAIC,CAAC,GAACH,CAAC,GAAC,CAAb,EAAeA,CAAC,GAACL,MAAM,CAACM,MAAxB,EAA+BE,CAAC,EAAhC,EAAmC;AAC/B,gBAAIR,MAAM,CAACQ,CAAD,CAAN,CAAUC,SAAV,KAAsBT,MAAM,CAACK,CAAD,CAAN,CAAUE,MAApC,EAA2C;AACvC,kBAAI,CAACP,MAAM,CAACQ,CAAD,CAAN,CAAUE,QAAf,EAAwB;AACpBV,gBAAAA,MAAM,CAACQ,CAAD,CAAN,CAAUE,QAAV,GAAmB,EAAnB;AACH;;AACDV,cAAAA,MAAM,CAACQ,CAAD,CAAN,CAAUE,QAAV,CAAmBC,IAAnB,CAAwB;AACpBC,gBAAAA,KAAK,EAACZ,MAAM,CAACK,CAAD,CAAN,CAAUQ,SADI;AAEpBC,gBAAAA,GAAG,EAACd,MAAM,CAACK,CAAD,CAAN,CAAUI;AAFM,eAAxB;AAIH;AACJ;AACJ;AACJ;;AACD,WAAKM,QAAL,CAAc;AAACxB,QAAAA,OAAO,EAAC,KAAT;AAAeS,QAAAA;AAAf,OAAd,EAAqC,MAAI;AACrCE,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKb,KAAL,CAAWU,MAAvB;AACH,OAFD;AAGH,KA3BD,EA2BGgB,KA3BH;AA4BH;;AAIDC,EAAAA,MAAM,GAAG;AACL,wBACI;AAAK,MAAA,SAAS,EAAElC,aAAa,CAACmC,SAA9B;AAAA,8BACI;AAAK,QAAA,SAAS,EAAEnC,aAAa,CAACoC,IAA9B;AAAA,gCACI,QAAC,MAAD;AAAQ,UAAA,WAAW,EAAC;AAApB;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAK,UAAA,KAAK,EAAE;AAACC,YAAAA,SAAS,EAAE;AAAZ,WAAZ;AAAA,oBAEQ,KAAK9B,KAAL,CAAWC,OAAX,gBAAqB;AAAM,YAAA,GAAG,EAAC;AAAV;AAAA;AAAA;AAAA;AAAA,kBAArB,gBAAwD;AAAA;AAAA;AAAA;AAAA;AAFhE;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eASI;AAAK,QAAA,SAAS,EAAER,aAAa,CAACsC,IAA9B;AAAA,+BACI;AAAO,UAAA,MAAM,EAAE;AAACC,YAAAA,SAAS,EAAE;AAAZ,WAAf;AAA6C,UAAA,UAAU,EAAE;AAACC,YAAAA,gBAAgB,EAAE;AAAnB,WAAzD;AAAA,kCACI,QAAC,MAAD;AAAQ,YAAA,KAAK,EAAC,0BAAd;AAAqB,YAAA,SAAS,EAAC,WAA/B;AAA2D,YAAA,KAAK,EAAC,QAAjE;AAA0E,YAAA,KAAK,EAAC;AAAhF,aAA+C,WAA/C;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI,QAAC,MAAD;AAAQ,YAAA,KAAK,EAAC,0BAAd;AAAqB,YAAA,SAAS,EAAC,QAA/B;AAAqD,YAAA,KAAK,EAAC,QAA3D;AAAoE,YAAA,KAAK,EAAC;AAA1E,aAA4C,QAA5C;AAAA;AAAA;AAAA;AAAA,kBAFJ,eAGI,QAAC,MAAD;AAAQ,YAAA,KAAK,EAAC,0BAAd;AAAqB,YAAA,SAAS,EAAC,SAA/B;AAAuD,YAAA,KAAK,EAAC,QAA7D;AAAsE,YAAA,KAAK,EAAC;AAA5E,aAA6C,SAA7C;AAAA;AAAA;AAAA;AAAA,kBAHJ,eAII,QAAC,MAAD;AAAQ,YAAA,KAAK,EAAC,cAAd;AAAmB,YAAA,SAAS,EAAC,OAA7B;AAAkD,YAAA,KAAK,EAAC,QAAxD;AAAiE,YAAA,KAAK,EAAC,KAAvE;AACQ,YAAA,MAAM,EAAE,CAACC,IAAD,EAAOC,MAAP,KAAkB;AACtBvB,cAAAA,OAAO,CAACC,GAAR,CAAYqB,IAAZ,EAAkBC,MAAlB;AACA,kCACI;AAAO,gBAAA,IAAI,EAAE,EAAb;AAAA,wCACI;AAAQ,kBAAA,IAAI,EAAC,MAAb;AAAoB,kBAAA,MAAM,eAAE,QAAC,YAAD;AAAA;AAAA;AAAA;AAAA,0BAA5B;AAA6C,kBAAA,KAAK,EAAC;AAAnD;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEI;AAAQ,kBAAA,IAAI,EAAC,MAAb;AAAoB,kBAAA,MAAM,eAAE,QAAC,YAAD;AAAA;AAAA;AAAA;AAAA,0BAA5B;AAA6C,kBAAA,KAAK,EAAC;AAAnD;AAAA;AAAA;AAAA;AAAA,wBAFJ,eAGI;AAAQ,kBAAA,IAAI,EAAC,MAAb;AAAoB,kBAAA,MAAM,eAAE,QAAC,cAAD;AAAA;AAAA;AAAA;AAAA,0BAA5B;AAA+C,kBAAA,KAAK,EAAC;AAArD;AAAA;AAAA;AAAA;AAAA,wBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ;AAOH;AAVT,aAAyC,QAAzC;AAAA;AAAA;AAAA;AAAA,kBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cATJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AA8BH;;AAnE6B;;AAsElC,eAAetC,SAAf","sourcesContent":["import React, {Component} from 'react';\r\nimport {Button, Space, Spin, Table, Tree, Input} from \"antd\";\r\nimport axios from \"axios\";\r\nimport {ApartmentOutlined, DeleteOutlined, EditOutlined, PlusOutlined} from \"@ant-design/icons\";\r\nimport Store from \"../../../../redux/store\";\r\nimport addGroupStyle from './index.module.css';\r\n\r\nconst {store} = Store;\r\nconst {Column} = Table;\r\nconst {Search} = Input;\r\n\r\nclass AddGroups extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        axios({\r\n            url:'http://localhost:3000/api/orgGroup',\r\n            method:'post',\r\n            headers:{authorization:store.getState().token}\r\n        }).then(response=>{\r\n            const {groups}=response.data;\r\n            console.log(groups);\r\n            const treeData='';\r\n            //加工组织数据\r\n            for (let i=0;i<groups.length;i++){\r\n                if (groups[i].parent){\r\n                    for (let j=i+1;i<groups.length;j++){\r\n                        if (groups[j].groupCode===groups[i].parent){\r\n                            if (!groups[j].children){\r\n                                groups[j].children=[];\r\n                            }\r\n                            groups[j].children.push({\r\n                                title:groups[i].groupName,\r\n                                key:groups[i].groupCode\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            this.setState({loading:false,groups},()=>{\r\n                console.log(this.state.groups);\r\n            });\r\n        }).catch();\r\n    }\r\n\r\n    state = {loading: true};\r\n\r\n    render() {\r\n        return (\r\n            <div className={addGroupStyle.container}>\r\n                <div className={addGroupStyle.left}>\r\n                    <Search placeholder='搜索组织'/>\r\n                    <div style={{marginTop: '10px'}}>\r\n                        {\r\n                            this.state.loading ? <Spin tip='正在获取组织信息，请稍候......'/> : <div></div>\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <div className={addGroupStyle.info}>\r\n                    <Table locale={{emptyText: '请选中具体组织后进行操作！'}} pagination={{hideOnSinglePage: true}}>\r\n                        <Column title='组织名称' dataIndex='groupName' key='groupName' align='center' width='25%'/>\r\n                        <Column title='上级组织' dataIndex='parent' key='parent' align='center' width='25%'/>\r\n                        <Column title='成员数量' dataIndex='members' key='members' align='center' width='25%'/>\r\n                        <Column title='操作' dataIndex='optin' key='option' align='center' width='25%'\r\n                                render={(text, record) => {\r\n                                    console.log(text, record);\r\n                                    return (\r\n                                        <Space size={15}>\r\n                                            <Button type='link' prefix={<EditOutlined/>} title='编辑组织'/>\r\n                                            <Button type='link' prefix={<PlusOutlined/>} title='增加下级组织'/>\r\n                                            <Button type='link' prefix={<DeleteOutlined/>} title='删除组织'/>\r\n                                        </Space>\r\n                                    );\r\n                                }}/>\r\n                    </Table>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AddGroups;\r\n"]},"metadata":{},"sourceType":"module"}