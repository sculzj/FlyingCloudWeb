{"ast":null,"code":"\"use strict\";\n/**\n * @file 交通路况图层\n * @author hedongran [hdr01@126.com]\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar Map_1 = require(\"../Map\");\n\nvar common_1 = require(\"../common\");\n\n;\n/**\n * 该组件用于展示交通路况的矢量图层\n * @visibleName TrafficLayer 交通路况图层\n */\n\nvar TrafficLayer =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(TrafficLayer, _super);\n\n  function TrafficLayer(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this._showLayer = false;\n    return _this;\n  }\n\n  TrafficLayer.prototype.componentDidMount = function () {\n    this.initialize();\n  };\n\n  TrafficLayer.prototype.componentDidUpdate = function (prevProps) {\n    this.initialize();\n  };\n\n  TrafficLayer.prototype.componentWillUnmount = function () {\n    if (this._showLayer) {\n      this.map.setTrafficOff();\n      this._showLayer = false;\n    }\n  };\n\n  TrafficLayer.prototype.initialize = function () {\n    var map = this.map = this.getMap();\n\n    if (!map) {\n      return;\n    }\n\n    if (!this._showLayer) {\n      map.setTrafficOn();\n      this._showLayer = true;\n    }\n  };\n\n  TrafficLayer.prototype.render = function () {\n    return null;\n  };\n\n  TrafficLayer.contextType = Map_1.MapContext;\n  return TrafficLayer;\n}(common_1.Component);\n\nexports.default = TrafficLayer;","map":{"version":3,"sources":["D:/WebStorm Project/flowingcloud/node_modules/react-bmapgl/Layer/TrafficLayer.js"],"names":["Object","defineProperty","exports","value","tslib_1","require","Map_1","common_1","TrafficLayer","_super","__extends","props","_this","call","_showLayer","prototype","componentDidMount","initialize","componentDidUpdate","prevProps","componentWillUnmount","map","setTrafficOff","getMap","setTrafficOn","render","contextType","MapContext","Component","default"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AACA,IAAIC,OAAO,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,IAAIC,KAAK,GAAGD,OAAO,CAAC,QAAD,CAAnB;;AACA,IAAIE,QAAQ,GAAGF,OAAO,CAAC,WAAD,CAAtB;;AACA;AACA;AACA;AACA;AACA;;AACA,IAAIG,YAAY;AAAG;AAAe,UAAUC,MAAV,EAAkB;AAChDL,EAAAA,OAAO,CAACM,SAAR,CAAkBF,YAAlB,EAAgCC,MAAhC;;AACA,WAASD,YAAT,CAAsBG,KAAtB,EAA6B;AACzB,QAAIC,KAAK,GAAGH,MAAM,CAACI,IAAP,CAAY,IAAZ,EAAkBF,KAAlB,KAA4B,IAAxC;;AACAC,IAAAA,KAAK,CAACE,UAAN,GAAmB,KAAnB;AACA,WAAOF,KAAP;AACH;;AACDJ,EAAAA,YAAY,CAACO,SAAb,CAAuBC,iBAAvB,GAA2C,YAAY;AACnD,SAAKC,UAAL;AACH,GAFD;;AAGAT,EAAAA,YAAY,CAACO,SAAb,CAAuBG,kBAAvB,GAA4C,UAAUC,SAAV,EAAqB;AAC7D,SAAKF,UAAL;AACH,GAFD;;AAGAT,EAAAA,YAAY,CAACO,SAAb,CAAuBK,oBAAvB,GAA8C,YAAY;AACtD,QAAI,KAAKN,UAAT,EAAqB;AACjB,WAAKO,GAAL,CAASC,aAAT;AACA,WAAKR,UAAL,GAAkB,KAAlB;AACH;AACJ,GALD;;AAMAN,EAAAA,YAAY,CAACO,SAAb,CAAuBE,UAAvB,GAAoC,YAAY;AAC5C,QAAII,GAAG,GAAG,KAAKA,GAAL,GAAW,KAAKE,MAAL,EAArB;;AACA,QAAI,CAACF,GAAL,EAAU;AACN;AACH;;AACD,QAAI,CAAC,KAAKP,UAAV,EAAsB;AAClBO,MAAAA,GAAG,CAACG,YAAJ;AACA,WAAKV,UAAL,GAAkB,IAAlB;AACH;AACJ,GATD;;AAUAN,EAAAA,YAAY,CAACO,SAAb,CAAuBU,MAAvB,GAAgC,YAAY;AACxC,WAAO,IAAP;AACH,GAFD;;AAGAjB,EAAAA,YAAY,CAACkB,WAAb,GAA2BpB,KAAK,CAACqB,UAAjC;AACA,SAAOnB,YAAP;AACH,CAlCiC,CAkChCD,QAAQ,CAACqB,SAlCuB,CAAlC;;AAmCA1B,OAAO,CAAC2B,OAAR,GAAkBrB,YAAlB","sourcesContent":["\"use strict\";\n/**\n * @file 交通路况图层\n * @author hedongran [hdr01@126.com]\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar Map_1 = require(\"../Map\");\nvar common_1 = require(\"../common\");\n;\n/**\n * 该组件用于展示交通路况的矢量图层\n * @visibleName TrafficLayer 交通路况图层\n */\nvar TrafficLayer = /** @class */ (function (_super) {\n    tslib_1.__extends(TrafficLayer, _super);\n    function TrafficLayer(props) {\n        var _this = _super.call(this, props) || this;\n        _this._showLayer = false;\n        return _this;\n    }\n    TrafficLayer.prototype.componentDidMount = function () {\n        this.initialize();\n    };\n    TrafficLayer.prototype.componentDidUpdate = function (prevProps) {\n        this.initialize();\n    };\n    TrafficLayer.prototype.componentWillUnmount = function () {\n        if (this._showLayer) {\n            this.map.setTrafficOff();\n            this._showLayer = false;\n        }\n    };\n    TrafficLayer.prototype.initialize = function () {\n        var map = this.map = this.getMap();\n        if (!map) {\n            return;\n        }\n        if (!this._showLayer) {\n            map.setTrafficOn();\n            this._showLayer = true;\n        }\n    };\n    TrafficLayer.prototype.render = function () {\n        return null;\n    };\n    TrafficLayer.contextType = Map_1.MapContext;\n    return TrafficLayer;\n}(common_1.Component));\nexports.default = TrafficLayer;\n"]},"metadata":{},"sourceType":"script"}