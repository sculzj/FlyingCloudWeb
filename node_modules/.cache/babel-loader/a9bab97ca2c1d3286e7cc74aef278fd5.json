{"ast":null,"code":"var _jsxFileName = \"D:\\\\WebStorm Project\\\\flowingcloud\\\\src\\\\components\\\\RandomCode\\\\index.jsx\";\nimport React, { Component } from 'react';\nimport Store from \"../../redux/store\";\nimport { saveCode } from \"../../redux/actions/byCode\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  store\n} = Store;\n\nclass RandomCode extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.paintCode = () => {\n      let code = [];\n      let codeStr = '';\n\n      do {\n        const num = Math.round(Math.random() * 123);\n\n        if (num >= 48 && num <= 57 || num >= 65 && num <= 90 || num >= 97 && num <= 122) {\n          code = [...code, String.fromCharCode(num)];\n        }\n      } while (code.length < 5);\n\n      const draw = this.draw.getContext('2d');\n      draw.clearRect(0, 0, 130, this.props.height);\n      draw.beginPath();\n      draw.fillStyle = 'darkgray';\n      draw.moveTo(Math.round(Math.random() * 20), Math.round(Math.random() * this.props.height));\n      draw.lineTo(Math.round(130 - Math.random() * 20), Math.round(Math.random() * this.props.height));\n      draw.stroke();\n      draw.closePath();\n      draw.fillStyle = 'rgb(24,144,255)';\n      draw.font = 'bold 18px 微软雅黑';\n\n      for (let i = 0; i < 4; i++) {\n        draw.fillText(code[i], 10 + 30 * i, 25);\n        codeStr = codeStr + code[i];\n      }\n\n      store.dispatch(saveCode(codeStr));\n    };\n  }\n\n  componentDidMount() {\n    this.paintCode();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"canvas\", {\n      width: \"130\",\n      height: this.props.height,\n      title: \"\\u66F4\\u6362\\u9A8C\\u8BC1\\u7801\",\n      style: {\n        background: '#e9e7ef',\n        float: 'right',\n        cursor: 'pointer'\n      },\n      ref: elment => {\n        this.draw = elment;\n      },\n      onClick: this.paintCode,\n      children: \"\\u8BF7\\u4F7F\\u7528Google\\u6216Edge\\u6D4F\\u89C8\\u5668\\u767B\\u5F55\\uFF01\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default RandomCode;","map":{"version":3,"sources":["D:/WebStorm Project/flowingcloud/src/components/RandomCode/index.jsx"],"names":["React","Component","Store","saveCode","store","RandomCode","paintCode","code","codeStr","num","Math","round","random","String","fromCharCode","length","draw","getContext","clearRect","props","height","beginPath","fillStyle","moveTo","lineTo","stroke","closePath","font","i","fillText","dispatch","componentDidMount","render","background","float","cursor","elment"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport Store from \"../../redux/store\";\r\nimport {saveCode} from \"../../redux/actions/byCode\";\r\n\r\nconst {store}=Store;\r\n\r\nclass RandomCode extends Component {\r\n\r\n    componentDidMount() {\r\n        this.paintCode();\r\n    }\r\n\r\n    paintCode=()=>{\r\n        let code=[];\r\n        let codeStr='';\r\n        do {\r\n            const num=Math.round(Math.random()*123)\r\n            if ((num>=48&&num<=57)||(num>=65&&num<=90)||(num>=97&&num<=122)){\r\n                code=[...code,String.fromCharCode(num)]\r\n            }\r\n        }while (code.length<5)\r\n        const draw=this.draw.getContext('2d');\r\n        draw.clearRect(0,0,130,this.props.height);\r\n        draw.beginPath();\r\n        draw.fillStyle='darkgray';\r\n        draw.moveTo(Math.round(Math.random()*20),Math.round(Math.random()*this.props.height));\r\n        draw.lineTo(Math.round(130-Math.random()*20),Math.round(Math.random()*this.props.height));\r\n        draw.stroke();\r\n        draw.closePath();\r\n        draw.fillStyle='rgb(24,144,255)';\r\n        draw.font='bold 18px 微软雅黑'\r\n        for (let i=0;i<4;i++){\r\n            draw.fillText(code[i],10+30*i,25);\r\n            codeStr=codeStr+code[i];\r\n        }\r\n        store.dispatch(saveCode(codeStr));\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <canvas width='130' height={this.props.height} title='更换验证码' style={{background:'#e9e7ef',float:'right',cursor:'pointer'}} ref={elment=>{this.draw=elment}} onClick={this.paintCode}>\r\n                请使用Google或Edge浏览器登录！\r\n            </canvas>\r\n        );\r\n    }\r\n}\r\n\r\nexport default RandomCode;\r\n"]},"metadata":{},"sourceType":"module"}