{"ast":null,"code":"import \"antd/es/input/style/css\";\nimport _Input from \"antd/es/input\";\nvar _jsxFileName = \"D:\\\\WebStorm Project\\\\flowingcloud\\\\src\\\\pages\\\\Register\\\\MapPanel\\\\index.jsx\";\nimport React, { Component } from 'react';\nimport Map, { MapApiLoaderHOC } from 'react-bmapgl/Map';\nimport { NavigationControl, ZoomControl } from \"react-bmapgl\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass MapPanel extends Component {\n  constructor(props) {\n    super(props);\n\n    this.location = (value, _) => {\n      new window.BMapGL.LocalSearch(this.map, {\n        renderOptions: {\n          map: this.map,\n          panel: this.panel,\n          pageCapacity: 1\n        }\n      }).search(value);\n    };\n\n    this.state = {\n      center: ''\n    };\n    new window.BMapGL.LocalCity({\n      renderOptions: {\n        map: this.map\n      }\n    }).get(city => {\n      this.state.center = city.center;\n    });\n  }\n\n  componentDidMount() {\n    const cityControl = new window.BMapGL.CityListControl({\n      anchor: window.BMapGL.BMAP_ANCHOR_TOP_RIGHT\n    });\n    this.map.addControl(cityControl);\n    const locationControl = new window.BMapGL.LocationControl({\n      anchor: window.BMapGL.BMAP_ANCHOR_TOP_RIGHT\n    });\n    this.map.addControl(locationControl);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '700px',\n        height: '500px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(_Input.Search, {\n          onSearch: this.location\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 22\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Map, {\n        center: this.state.center,\n        ref: element => {\n          this.map = element.map;\n        },\n        maxZoom: 20,\n        style: {\n          width: '700px',\n          height: '500px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(NavigationControl, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ZoomControl, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default MapApiLoaderHOC({\n  ak: 'mIbTq9DtaAPuV7g7Oy1ZuedzWUGir765'\n})(MapPanel);","map":{"version":3,"sources":["D:/WebStorm Project/flowingcloud/src/pages/Register/MapPanel/index.jsx"],"names":["React","Component","Map","MapApiLoaderHOC","NavigationControl","ZoomControl","MapPanel","constructor","props","location","value","_","window","BMapGL","LocalSearch","map","renderOptions","panel","pageCapacity","search","state","center","LocalCity","get","city","componentDidMount","cityControl","CityListControl","anchor","BMAP_ANCHOR_TOP_RIGHT","addControl","locationControl","LocationControl","render","width","height","element","ak"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,GAAP,IAAaC,eAAb,QAAmC,kBAAnC;AACA,SAAQC,iBAAR,EAA2BC,WAA3B,QAA6C,cAA7C;;;AAGA,MAAMC,QAAN,SAAuBL,SAAvB,CAAiC;AAE7BM,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAmBnBC,QAnBmB,GAmBR,CAACC,KAAD,EAAQC,CAAR,KAAc;AACrB,UAAIC,MAAM,CAACC,MAAP,CAAcC,WAAlB,CAA8B,KAAKC,GAAnC,EAAwC;AACpCC,QAAAA,aAAa,EAAE;AAACD,UAAAA,GAAG,EAAE,KAAKA,GAAX;AAAgBE,UAAAA,KAAK,EAAE,KAAKA,KAA5B;AAAmCC,UAAAA,YAAY,EAAE;AAAjD;AADqB,OAAxC,EAEGC,MAFH,CAEUT,KAFV;AAGH,KAvBkB;;AAEf,SAAKU,KAAL,GAAW;AAACC,MAAAA,MAAM,EAAC;AAAR,KAAX;AACA,QAAIT,MAAM,CAACC,MAAP,CAAcS,SAAlB,CAA4B;AAACN,MAAAA,aAAa,EAAE;AAACD,QAAAA,GAAG,EAAE,KAAKA;AAAX;AAAhB,KAA5B,EAA8DQ,GAA9D,CAAmEC,IAAD,IAAU;AACxE,WAAKJ,KAAL,CAAWC,MAAX,GAAkBG,IAAI,CAACH,MAAvB;AACH,KAFD;AAGH;;AAEDI,EAAAA,iBAAiB,GAAG;AAChB,UAAMC,WAAW,GAAG,IAAId,MAAM,CAACC,MAAP,CAAcc,eAAlB,CAAkC;AAClDC,MAAAA,MAAM,EAAEhB,MAAM,CAACC,MAAP,CAAcgB;AAD4B,KAAlC,CAApB;AAGA,SAAKd,GAAL,CAASe,UAAT,CAAoBJ,WAApB;AACA,UAAMK,eAAe,GAAG,IAAInB,MAAM,CAACC,MAAP,CAAcmB,eAAlB,CAAkC;AACtDJ,MAAAA,MAAM,EAAEhB,MAAM,CAACC,MAAP,CAAcgB;AADgC,KAAlC,CAAxB;AAGA,SAAKd,GAAL,CAASe,UAAT,CAAoBC,eAApB;AACH;;AAQDE,EAAAA,MAAM,GAAG;AACL,wBACI;AAAK,MAAA,KAAK,EAAE;AAACC,QAAAA,KAAK,EAAE,OAAR;AAAiBC,QAAAA,MAAM,EAAE;AAAzB,OAAZ;AAAA,8BACI;AAAA,+BAAK,eAAO,MAAP;AAAc,UAAA,QAAQ,EAAE,KAAK1B;AAA7B;AAAA;AAAA;AAAA;AAAA;AAAL;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI,QAAC,GAAD;AAAK,QAAA,MAAM,EAAE,KAAKW,KAAL,CAAWC,MAAxB;AAAgC,QAAA,GAAG,EAAEe,OAAO,IAAI;AAC5C,eAAKrB,GAAL,GAAWqB,OAAO,CAACrB,GAAnB;AACH,SAFD;AAEG,QAAA,OAAO,EAAE,EAFZ;AAEgB,QAAA,KAAK,EAAE;AAACmB,UAAAA,KAAK,EAAE,OAAR;AAAiBC,UAAAA,MAAM,EAAE;AAAzB,SAFvB;AAAA,gCAGI,QAAC,iBAAD;AAAA;AAAA;AAAA;AAAA,gBAHJ,eAII,QAAC,WAAD;AAAA;AAAA;AAAA;AAAA,gBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAWH;;AAvC4B;;AA0CjC,eAAehC,eAAe,CAAC;AAACkC,EAAAA,EAAE,EAAE;AAAL,CAAD,CAAf,CAA0D/B,QAA1D,CAAf","sourcesContent":["import React, {Component} from 'react';\r\nimport Map, {MapApiLoaderHOC} from 'react-bmapgl/Map';\r\nimport {NavigationControl, ZoomControl} from \"react-bmapgl\";\r\nimport {Input} from \"antd\";\r\n\r\nclass MapPanel extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={center:''};\r\n        new window.BMapGL.LocalCity({renderOptions: {map: this.map}}).get((city) => {\r\n            this.state.center=city.center;\r\n        });\r\n    }\r\n\r\n    componentDidMount() {\r\n        const cityControl = new window.BMapGL.CityListControl({\r\n            anchor: window.BMapGL.BMAP_ANCHOR_TOP_RIGHT\r\n        });\r\n        this.map.addControl(cityControl);\r\n        const locationControl = new window.BMapGL.LocationControl({\r\n            anchor: window.BMapGL.BMAP_ANCHOR_TOP_RIGHT,\r\n        });\r\n        this.map.addControl(locationControl);\r\n    }\r\n\r\n    location = (value, _) => {\r\n        new window.BMapGL.LocalSearch(this.map, {\r\n            renderOptions: {map: this.map, panel: this.panel, pageCapacity: 1}\r\n        }).search(value);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div style={{width: '700px', height: '500px'}}>\r\n                <div><Input.Search onSearch={this.location}/></div>\r\n                <Map center={this.state.center} ref={element => {\r\n                    this.map = element.map\r\n                }} maxZoom={20} style={{width: '700px', height: '500px'}}>\r\n                    <NavigationControl/>\r\n                    <ZoomControl/>\r\n                </Map>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default MapApiLoaderHOC({ak: 'mIbTq9DtaAPuV7g7Oy1ZuedzWUGir765'})(MapPanel);\r\n"]},"metadata":{},"sourceType":"module"}