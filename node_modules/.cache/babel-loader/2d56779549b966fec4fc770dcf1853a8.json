{"ast":null,"code":"import \"antd/es/modal/style/css\";\nimport _Modal from \"antd/es/modal\";\nimport \"antd/es/button/style/css\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/form/style/css\";\nimport _Form from \"antd/es/form\";\nimport \"antd/es/input/style/css\";\nimport _Input from \"antd/es/input\";\nimport \"antd/es/avatar/style/css\";\nimport _Avatar from \"antd/es/avatar\";\nimport \"antd/es/select/style/css\";\nimport _Select from \"antd/es/select\";\nvar _jsxFileName = \"D:\\\\WebStorm Project\\\\flowingcloud\\\\src\\\\pages\\\\System\\\\Home\\\\Nav\\\\index.jsx\";\nimport React, { Component } from 'react';\nimport { DesktopOutlined, SettingOutlined } from \"@ant-design/icons\";\nimport axios from \"axios\";\nimport navStyle from './index.module.css';\nimport Store from '../../../../redux/store';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Option\n} = _Select;\nconst {\n  store\n} = Store;\n\nclass Nav extends Component {\n  constructor(props) {\n    super(props); // console.log(store.getState());\n    // const {init}=store.getState().userinfo;\n\n    this.toSelect = value => {\n      this.state.selects.push(value);\n      this.setState({}, () => {\n        console.log(this.state);\n      });\n    };\n\n    this.toClear = () => {};\n\n    this.state = {\n      visible: false,\n      questions: [],\n      selects: []\n    };\n  }\n\n  componentDidMount() {\n    const {\n      init\n    } = store.getState().userinfo;\n\n    if (!init) {\n      axios({\n        url: 'http://localhost:3000/api/questions',\n        method: 'get'\n      }).then(response => {\n        console.log(response.data);\n        this.setState({\n          visible: true,\n          questions: response.data\n        });\n      }).catch(() => {});\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: navStyle.frame,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: navStyle.left,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: require('../../../../images/logoH.png').default,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: navStyle.right,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: navStyle.user,\n          children: [/*#__PURE__*/_jsxDEV(_Avatar, {\n            src: require('../../../../images/admin.png').default,\n            alt: \"\\u8D44\\u6E90\\u83B7\\u53D6\\u5931\\u8D25\",\n            className: navStyle.icon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: navStyle.id,\n            children: store.getState().userinfo.uid\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(SettingOutlined, {\n            title: \"\\u5FEB\\u901F\\u8BBE\\u7F6E\",\n            className: navStyle.set\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(DesktopOutlined, {\n            title: \"\\u8FD4\\u56DE\\u4E3B\\u9875\",\n            className: navStyle.set\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(_Modal, {\n        visible: this.state.visible,\n        title: \"\\u4FEE\\u6539\\u5BC6\\u7801\",\n        footer: null,\n        closable: false,\n        children: /*#__PURE__*/_jsxDEV(_Form, {\n          labelCol: {\n            span: 5\n          },\n          wrapperCol: {\n            span: 17\n          },\n          validateTrigger: \"onBlur\",\n          children: [/*#__PURE__*/_jsxDEV(_Form.Item, {\n            label: \"\\u8BF7\\u8F93\\u5165\\u5BC6\\u7801\",\n            name: \"pwd\",\n            hasFeedback: true,\n            rules: [{\n              required: true,\n              type: 'string',\n              pattern: /^[A-Za-z0-9]{7,16}$/,\n              message: '密码为8~16位数字或字母的组合'\n            }],\n            children: /*#__PURE__*/_jsxDEV(_Input.Password, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(_Form.Item, {\n            label: \"\\u8BF7\\u786E\\u8BA4\\u5BC6\\u7801\",\n            name: \"configPwd\",\n            hasFeedback: true,\n            rules: [{\n              required: true,\n              message: '请再次输入密码！'\n            }, ({\n              getFieldValue\n            }) => ({\n              validator(_, value) {\n                if (!value || getFieldValue('pwd') === value) {\n                  return Promise.resolve();\n                }\n\n                return Promise.reject(new Error('两次输入密码不一致！'));\n              }\n\n            })],\n            children: /*#__PURE__*/_jsxDEV(_Input.Password, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(_Form.Item, {\n            label: \"\\u5BC6\\u4FDD\\u95EE\\u9898\",\n            name: \"qestion1\",\n            rules: [{\n              required: true,\n              message: '请选择密保问题！'\n            }],\n            children: /*#__PURE__*/_jsxDEV(_Select, {\n              value: this.state.selects[0] ? this.state.selects[0] : '',\n              onSelect: this.toSelect,\n              children: this.state.questions.map((item, index) => {\n                if (!this.state.selects.includes(item.question)) {\n                  return /*#__PURE__*/_jsxDEV(Option, {\n                    value: item.question,\n                    children: item.question\n                  }, index, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 102,\n                    columnNumber: 53\n                  }, this);\n                } else {\n                  return null;\n                }\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(_Form.Item, {\n            label: \"\\u8F93\\u5165\\u7B54\\u6848\",\n            name: \"answer1\",\n            rules: [{\n              required: true,\n              message: '请输入密保问题的答案！'\n            }],\n            children: /*#__PURE__*/_jsxDEV(_Input, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(_Form.Item, {\n            label: \"\\u5BC6\\u4FDD\\u95EE\\u9898\",\n            name: \"qestion2\",\n            rules: [{\n              required: true,\n              message: '请选择密保问题！'\n            }],\n            children: /*#__PURE__*/_jsxDEV(_Select, {\n              value: this.state.selects[1] ? this.state.selects[1] : '',\n              onSelect: this.toSelect,\n              children: this.state.questions.map((item, index) => {\n                if (!this.state.selects.includes(item.question)) {\n                  return /*#__PURE__*/_jsxDEV(Option, {\n                    value: item.question,\n                    children: item.question\n                  }, index, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 128,\n                    columnNumber: 53\n                  }, this);\n                } else {\n                  return null;\n                }\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(_Form.Item, {\n            label: \"\\u8F93\\u5165\\u7B54\\u6848\",\n            name: \"answer2\",\n            rules: [{\n              required: true,\n              message: '请输入密保问题的答案！'\n            }],\n            children: /*#__PURE__*/_jsxDEV(_Input, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(_Form.Item, {\n            label: \"\\u5BC6\\u4FDD\\u95EE\\u9898\",\n            name: \"qestion3\",\n            rules: [{\n              required: true,\n              message: '请选择密保问题！'\n            }],\n            children: /*#__PURE__*/_jsxDEV(_Select, {\n              value: this.state.selects[2] ? this.state.selects[2] : '',\n              onSelect: this.toSelect,\n              children: this.state.questions.map((item, index) => {\n                if (!this.state.selects.includes(item.question)) {\n                  return /*#__PURE__*/_jsxDEV(Option, {\n                    value: item.question,\n                    children: item.question\n                  }, index, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 154,\n                    columnNumber: 53\n                  }, this);\n                } else {\n                  return null;\n                }\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(_Form.Item, {\n            label: \"\\u8F93\\u5165\\u7B54\\u6848\",\n            name: \"answer3\",\n            rules: [{\n              required: true,\n              message: '请输入密保问题的答案！'\n            }],\n            children: /*#__PURE__*/_jsxDEV(_Input, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(_Form.Item, {\n            wrapperCol: {\n              offset: 5,\n              span: 17\n            },\n            children: /*#__PURE__*/_jsxDEV(_Button, {\n              type: \"primary\",\n              htmlType: \"submit\",\n              block: true,\n              children: \"\\u63D0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\u4EA4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Nav;","map":{"version":3,"sources":["D:/WebStorm Project/flowingcloud/src/pages/System/Home/Nav/index.jsx"],"names":["React","Component","DesktopOutlined","SettingOutlined","axios","navStyle","Store","Option","store","Nav","constructor","props","toSelect","value","state","selects","push","setState","console","log","toClear","visible","questions","componentDidMount","init","getState","userinfo","url","method","then","response","data","catch","render","frame","left","require","default","right","user","icon","id","uid","set","span","required","type","pattern","message","getFieldValue","validator","_","Promise","resolve","reject","Error","map","item","index","includes","question","offset"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {Avatar, Button, Form, Input, Modal, Select} from \"antd\";\r\nimport {DesktopOutlined, SettingOutlined} from \"@ant-design/icons\";\r\nimport axios from \"axios\";\r\n\r\n\r\nimport navStyle from './index.module.css';\r\nimport Store from '../../../../redux/store';\r\n\r\nconst {Option} = Select;\r\nconst {store} = Store;\r\n\r\nclass Nav extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        // console.log(store.getState());\r\n        // const {init}=store.getState().userinfo;\r\n        this.state = ({visible: false, questions: [], selects: []});\r\n    }\r\n\r\n    componentDidMount() {\r\n        const {init} = store.getState().userinfo;\r\n        if (!init) {\r\n            axios({\r\n                url: 'http://localhost:3000/api/questions',\r\n                method: 'get'\r\n            }).then(response => {\r\n                console.log(response.data);\r\n                this.setState({visible: true, questions: response.data});\r\n            }).catch(() => {\r\n\r\n            });\r\n        }\r\n    }\r\n\r\n    toSelect=(value)=>{\r\n        this.state.selects.push(value);\r\n        this.setState({},()=>{\r\n            console.log(this.state);\r\n        });\r\n    }\r\n\r\n    toClear=()=>{\r\n\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div className={navStyle.frame}>\r\n                <div className={navStyle.left}>\r\n                    <img src={require('../../../../images/logoH.png').default} alt=''/>\r\n                </div>\r\n                <div className={navStyle.right}>\r\n                    <div className={navStyle.user}>\r\n                        <Avatar src={require('../../../../images/admin.png').default} alt='资源获取失败'\r\n                                className={navStyle.icon}/>\r\n                        <span className={navStyle.id}>{store.getState().userinfo.uid}</span>\r\n                        <SettingOutlined title='快速设置' className={navStyle.set}/>\r\n                        <DesktopOutlined title='返回主页' className={navStyle.set}/>\r\n                    </div>\r\n                </div>\r\n                <Modal visible={this.state.visible} title='修改密码' footer={null} closable={false}>\r\n                    <Form labelCol={{span: 5}} wrapperCol={{span: 17}} validateTrigger='onBlur'>\r\n                        <Form.Item label='请输入密码' name='pwd' hasFeedback rules={[\r\n                            {\r\n                                required:true,\r\n                                type:'string',\r\n                                pattern:/^[A-Za-z0-9]{7,16}$/,\r\n                                message:'密码为8~16位数字或字母的组合'\r\n                            }\r\n                        ]}>\r\n                            <Input.Password/>\r\n                        </Form.Item>\r\n                        <Form.Item label='请确认密码' name='configPwd' hasFeedback rules={[\r\n                            {\r\n                                required: true,\r\n                                message: '请再次输入密码！',\r\n                            },\r\n                            ({ getFieldValue }) => ({\r\n                                validator(_, value) {\r\n                                    if (!value || getFieldValue('pwd') === value) {\r\n                                        return Promise.resolve();\r\n                                    }\r\n                                    return Promise.reject(new Error('两次输入密码不一致！'));\r\n                                },\r\n                            }),\r\n                        ]}>\r\n                            <Input.Password/>\r\n                        </Form.Item>\r\n                        <Form.Item label='密保问题' name='qestion1' rules={[\r\n                            {\r\n                                required:true,\r\n                                message:'请选择密保问题！'\r\n                            }\r\n                        ]}>\r\n                            <Select value={this.state.selects[0]?this.state.selects[0]:''} onSelect={this.toSelect}>\r\n                                {\r\n                                    this.state.questions.map((item, index) => {\r\n                                        if (!this.state.selects.includes(item.question)){\r\n                                            return (<Option value={item.question} key={index}>{item.question}</Option>);\r\n                                        }else {\r\n                                            return null;\r\n                                        }\r\n                                    })\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                        <Form.Item label='输入答案' name='answer1' rules={[\r\n                            {\r\n                                required:true,\r\n                                message:'请输入密保问题的答案！'\r\n                            }\r\n                        ]}>\r\n                            <Input/>\r\n                        </Form.Item>\r\n                        <Form.Item label='密保问题' name='qestion2' rules={[\r\n                            {\r\n                                required:true,\r\n                                message:'请选择密保问题！'\r\n                            }\r\n                        ]}>\r\n                            <Select value={this.state.selects[1]?this.state.selects[1]:''}  onSelect={this.toSelect}>\r\n                                {\r\n                                    this.state.questions.map((item, index) => {\r\n                                        if (!this.state.selects.includes(item.question)){\r\n                                            return (<Option value={item.question} key={index}>{item.question}</Option>);\r\n                                        }else {\r\n                                            return null;\r\n                                        }\r\n                                    })\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                        <Form.Item label='输入答案' name='answer2' rules={[\r\n                            {\r\n                                required:true,\r\n                                message:'请输入密保问题的答案！'\r\n                            }\r\n                        ]}>\r\n                            <Input/>\r\n                        </Form.Item>\r\n                        <Form.Item label='密保问题' name='qestion3' rules={[\r\n                            {\r\n                                required:true,\r\n                                message:'请选择密保问题！'\r\n                            }\r\n                        ]}>\r\n                            <Select value={this.state.selects[2]?this.state.selects[2]:''}  onSelect={this.toSelect}>\r\n                                {\r\n                                    this.state.questions.map((item, index) => {\r\n                                        if (!this.state.selects.includes(item.question)){\r\n                                            return (<Option value={item.question} key={index}>{item.question}</Option>);\r\n                                        }else {\r\n                                            return null;\r\n                                        }\r\n                                    })\r\n                                }\r\n                            </Select>\r\n                        </Form.Item>\r\n                        <Form.Item label='输入答案' name='answer3' rules={[\r\n                            {\r\n                                required:true,\r\n                                message:'请输入密保问题的答案！'\r\n                            }\r\n                        ]}>\r\n                            <Input/>\r\n                        </Form.Item>\r\n                        <Form.Item wrapperCol={{offset: 5, span: 17}}>\r\n                            <Button type='primary' htmlType='submit'\r\n                                    block>提&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;交</Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Modal>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default Nav;\r\n"]},"metadata":{},"sourceType":"module"}