{"ast":null,"code":"\"use strict\";\n/**\n * @file 结果提示、自动完成类\n * @author hedongran [hdr01@126.com]\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar react_1 = tslib_1.__importStar(require(\"react\"));\n\nvar common_1 = require(\"../common\");\n\nvar WrapperHOC_1 = tslib_1.__importDefault(require(\"../common/WrapperHOC\"));\n\nvar eventsMap = ['confirm', 'highlight'];\nvar methodsMap = {};\n\nvar AutoComplete =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(AutoComplete, _super);\n\n  function AutoComplete(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.el = react_1.default.createRef();\n    _this.options = ['location', 'onSearchComplete', 'input', 'types'];\n    return _this;\n  }\n\n  AutoComplete.prototype.componentDidMount = function () {\n    this.initialize();\n  };\n\n  AutoComplete.prototype.componentWillUnmount = function () {\n    this.destroy();\n  };\n\n  AutoComplete.prototype.destroy = function () {\n    if (this.ac) {\n      this.ac.dispose(); // @ts-ignore\n\n      this.instance = this.ac = undefined;\n    }\n  };\n\n  AutoComplete.prototype.initialize = function () {\n    this.destroy();\n    var opts = this.getOptions();\n\n    if (!opts.input) {\n      opts.input = this.el.current;\n    }\n\n    this.ac = this.instance = new BMapGL.Autocomplete(opts);\n  };\n\n  AutoComplete.prototype.render = function () {\n    return react_1.default.createElement(react_1.Fragment, null, !this.props.input && react_1.default.createElement(\"input\", {\n      className: \"react-bmapgl-autocomplete\",\n      ref: this.el,\n      style: this.props.style\n    }));\n  };\n\n  return AutoComplete;\n}(common_1.Component);\n\nAutoComplete.defaultProps = {};\n/**\n * Autocomplete是结果提示、自动完成类，不依赖地图进行展示，是仅调用地图API的服务。\n * @visibleName AutoComplete 结果提示\n */\n\nexports.default = WrapperHOC_1.default(AutoComplete, eventsMap, methodsMap);","map":{"version":3,"sources":["D:/WebStorm Project/flowingcloud/node_modules/react-bmapgl/Services/AutoComplete.js"],"names":["Object","defineProperty","exports","value","tslib_1","require","react_1","__importStar","common_1","WrapperHOC_1","__importDefault","eventsMap","methodsMap","AutoComplete","_super","__extends","props","_this","call","el","default","createRef","options","prototype","componentDidMount","initialize","componentWillUnmount","destroy","ac","dispose","instance","undefined","opts","getOptions","input","current","BMapGL","Autocomplete","render","createElement","Fragment","className","ref","style","Component","defaultProps"],"mappings":"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","sourcesContent":["\"use strict\";\n/**\n * @file 结果提示、自动完成类\n * @author hedongran [hdr01@126.com]\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar react_1 = tslib_1.__importStar(require(\"react\"));\nvar common_1 = require(\"../common\");\nvar WrapperHOC_1 = tslib_1.__importDefault(require(\"../common/WrapperHOC\"));\nvar eventsMap = [\n    'confirm',\n    'highlight'\n];\nvar methodsMap = {};\nvar AutoComplete = /** @class */ (function (_super) {\n    tslib_1.__extends(AutoComplete, _super);\n    function AutoComplete(props) {\n        var _this = _super.call(this, props) || this;\n        _this.el = react_1.default.createRef();\n        _this.options = [\n            'location',\n            'onSearchComplete',\n            'input',\n            'types'\n        ];\n        return _this;\n    }\n    AutoComplete.prototype.componentDidMount = function () {\n        this.initialize();\n    };\n    AutoComplete.prototype.componentWillUnmount = function () {\n        this.destroy();\n    };\n    AutoComplete.prototype.destroy = function () {\n        if (this.ac) {\n            this.ac.dispose();\n            // @ts-ignore\n            this.instance = this.ac = undefined;\n        }\n    };\n    AutoComplete.prototype.initialize = function () {\n        this.destroy();\n        var opts = this.getOptions();\n        if (!opts.input) {\n            opts.input = this.el.current;\n        }\n        this.ac = this.instance = new BMapGL.Autocomplete(opts);\n    };\n    AutoComplete.prototype.render = function () {\n        return (react_1.default.createElement(react_1.Fragment, null, !this.props.input && react_1.default.createElement(\"input\", { className: \"react-bmapgl-autocomplete\", ref: this.el, style: this.props.style })));\n    };\n    return AutoComplete;\n}(common_1.Component));\nAutoComplete.defaultProps = {};\n/**\n * Autocomplete是结果提示、自动完成类，不依赖地图进行展示，是仅调用地图API的服务。\n * @visibleName AutoComplete 结果提示\n */\nexports.default = WrapperHOC_1.default(AutoComplete, eventsMap, methodsMap);\n"]},"metadata":{},"sourceType":"script"}