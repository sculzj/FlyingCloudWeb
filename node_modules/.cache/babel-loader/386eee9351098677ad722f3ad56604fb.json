{"ast":null,"code":"import \"antd/es/input/style/css\";\nimport _Input from \"antd/es/input\";\nvar _jsxFileName = \"D:\\\\WebStorm Project\\\\flowingcloud\\\\src\\\\pages\\\\Register\\\\MapPanel\\\\index.jsx\";\nimport React, { Component } from 'react';\nimport Map, { MapApiLoaderHOC } from 'react-bmapgl/Map';\nimport { NavigationControl, ZoomControl } from \"react-bmapgl\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass MapPanel extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      center: {\n        lng: 116.404449,\n        lat: 39.914889\n      }\n    };\n\n    this.location = (value, _) => {\n      const {\n        map\n      } = this.map;\n      const handel = new window.BMapGL.LocalSearch(map, {\n        renderOptions: {\n          map: map,\n          panel: this.panel,\n          pageCapacity: 1\n        }\n      });\n      handel.search(value);\n    };\n\n    this.getLocationInfo = () => {\n      const {\n        map\n      } = this.map;\n      const info = map.getInfoWindow().getContent();\n      console.log(info);\n      this.props.setAddress(info);\n    };\n  }\n\n  componentDidMount() {\n    const {\n      map\n    } = this.map;\n    map.loadMapStyleFiles(() => {\n      new window.BMapGL.LocalCity({\n        renderoptions: {\n          map: map\n        }\n      }).get(city => {\n        this.setState({\n          center: city.center\n        }, () => {\n          map.addControl(new window.BMapGL.CityListControl({\n            anchor: window.BMapGL.BMAP_ANCHOR_TOP_LEFT,\n            offset: new window.BMapGL.Size(10, 5)\n          }));\n        });\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '700px',\n        height: '500px',\n        margin: '0 auto'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '10px'\n        },\n        children: /*#__PURE__*/_jsxDEV(_Input.Search, {\n          onSearch: this.location\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 53\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Map, {\n        center: this.state.center,\n        zoom: 12,\n        ref: element => {\n          this.map = element;\n        },\n        maxZoom: 20,\n        style: {\n          width: '700px',\n          height: '500px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(NavigationControl, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ZoomControl, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: '700px',\n          height: '200px',\n          marginTop: '10px',\n          overflow: 'hidden scroll',\n          border: 'solid #999999 1px '\n        },\n        ref: element => {\n          this.panel = element;\n        },\n        onClick: this.getLocationInfo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default MapApiLoaderHOC({\n  ak: 'mIbTq9DtaAPuV7g7Oy1ZuedzWUGir765'\n})(MapPanel);","map":{"version":3,"sources":["D:/WebStorm Project/flowingcloud/src/pages/Register/MapPanel/index.jsx"],"names":["React","Component","Map","MapApiLoaderHOC","NavigationControl","ZoomControl","MapPanel","state","center","lng","lat","location","value","_","map","handel","window","BMapGL","LocalSearch","renderOptions","panel","pageCapacity","search","getLocationInfo","info","getInfoWindow","getContent","console","log","props","setAddress","componentDidMount","loadMapStyleFiles","LocalCity","renderoptions","get","city","setState","addControl","CityListControl","anchor","BMAP_ANCHOR_TOP_LEFT","offset","Size","render","width","height","margin","marginBottom","element","marginTop","overflow","border","ak"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport Map, {MapApiLoaderHOC} from 'react-bmapgl/Map';\r\nimport {NavigationControl, ZoomControl} from \"react-bmapgl\";\r\nimport {Input} from \"antd\";\r\n\r\nclass MapPanel extends Component {\r\n\r\n    state = {center: {lng: 116.404449, lat: 39.914889}}\r\n\r\n    componentDidMount() {\r\n        const {map} = this.map;\r\n        map.loadMapStyleFiles(() => {\r\n            new window.BMapGL.LocalCity({renderoptions: {map: map}}).get(city => {\r\n                this.setState({center: city.center}, () => {\r\n                    map.addControl(new window.BMapGL.CityListControl({\r\n                        anchor: window.BMapGL.BMAP_ANCHOR_TOP_LEFT,\r\n                        offset: new window.BMapGL.Size(10, 5)\r\n                    }));\r\n                })\r\n            });\r\n        });\r\n    }\r\n\r\n    location = (value, _) => {\r\n        const {map} = this.map;\r\n        const handel=new window.BMapGL.LocalSearch(map, {\r\n            renderOptions: {map: map, panel: this.panel, pageCapacity: 1}\r\n        });\r\n        handel.search(value);\r\n    }\r\n\r\n    getLocationInfo=()=>{\r\n        const {map}=this.map;\r\n        const info=map.getInfoWindow().getContent();\r\n        console.log(info);\r\n        this.props.setAddress(info);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div style={{width: '700px', height: '500px', margin: '0 auto'}}>\r\n                <div style={{marginBottom: '10px'}}><Input.Search onSearch={this.location}/></div>\r\n                <Map center={this.state.center} zoom={12} ref={element => {\r\n                    this.map = element\r\n                }} maxZoom={20} style={{width: '700px', height: '500px'}}>\r\n                    <NavigationControl/>\r\n                    <ZoomControl/>\r\n                </Map>\r\n                <div style={{\r\n                    width: '700px',\r\n                    height: '200px',\r\n                    marginTop: '10px',\r\n                    overflow: 'hidden scroll',\r\n                    border: 'solid #999999 1px '\r\n                }} ref={element => {\r\n                    this.panel = element\r\n                }} onClick={this.getLocationInfo}/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default MapApiLoaderHOC({ak: 'mIbTq9DtaAPuV7g7Oy1ZuedzWUGir765'})(MapPanel);\r\n"]},"metadata":{},"sourceType":"module"}