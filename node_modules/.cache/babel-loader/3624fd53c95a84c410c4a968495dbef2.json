{"ast":null,"code":"import \"antd/es/tree/style/css\";\nimport _Tree from \"antd/es/tree\";\nvar _jsxFileName = \"D:\\\\WebStorm Project\\\\flowingcloud\\\\src\\\\pages\\\\Admin\\\\WorkSpace\\\\AddGroups\\\\index.jsx\";\nimport React, { Component } from 'react';\nimport axios from \"axios\";\nimport store from \"../../../../redux/store\";\nimport { ApartmentOutlined } from \"@ant-design/icons\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass AddGroups extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      list: ''\n    };\n\n    this.transData = data => {\n      const treeData = {\n        title: '',\n        key: '',\n        children: []\n      };\n      data.forEach((item, _, array) => {\n        if (item.parent) {\n          for (let tmp of array) {\n            if (tmp.groupCode === item.parent) {\n              if (!tmp.children) {\n                tmp.children = [];\n              }\n\n              if (!tmp.title) {\n                tmp.title = tmp.groupName;\n              }\n\n              if (!tmp.key) {\n                tmp.key = tmp.groupCode;\n              }\n\n              item.title = item.groupName;\n              item.key = item.groupCode;\n              item.icon = /*#__PURE__*/_jsxDEV(ApartmentOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 32,\n                columnNumber: 35\n              }, this);\n              delete item.groupName;\n              delete item.groupCode;\n              tmp.children.push(item);\n            }\n          }\n        } else {\n          treeData.title = item.groupName;\n          treeData.key = item.groupCode;\n          treeData.children = item.children;\n        }\n      });\n      return treeData;\n    };\n  }\n\n  componentDidMount() {\n    axios({\n      url: 'http://localhost:3000/api/orgGroup',\n      method: 'post',\n      headers: {\n        Authorization: store.getState().token\n      }\n    }).then(response => {\n      const groups = this.transData(response.data.groups);\n      console.log(groups);\n      this.setState({\n        list: [groups]\n      });\n    }).catch();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Tree, {\n      treeData: this.state.list,\n      icon: /*#__PURE__*/_jsxDEV(ApartmentOutlined, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 52\n      }, this),\n      showIcon: true,\n      showLine: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default AddGroups;","map":{"version":3,"sources":["D:/WebStorm Project/flowingcloud/src/pages/Admin/WorkSpace/AddGroups/index.jsx"],"names":["React","Component","axios","store","ApartmentOutlined","AddGroups","state","list","transData","data","treeData","title","key","children","forEach","item","_","array","parent","tmp","groupCode","groupName","icon","push","componentDidMount","url","method","headers","Authorization","getState","token","then","response","groups","console","log","setState","catch","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {Tree} from \"antd\";\r\nimport axios from \"axios\";\r\nimport store from \"../../../../redux/store\";\r\nimport {ApartmentOutlined} from \"@ant-design/icons\";\r\n\r\nclass AddGroups extends Component {\r\n\r\n    state = {list: ''};\r\n\r\n    transData = (data) => {\r\n        const treeData={\r\n            title:'',\r\n            key:'',\r\n            children:[]\r\n        };\r\n        data.forEach((item, _, array) => {\r\n            if (item.parent) {\r\n                for (let tmp of array) {\r\n                    if (tmp.groupCode === item.parent) {\r\n                        if (!tmp.children) {\r\n                            tmp.children = [];\r\n                        }\r\n                        if (!tmp.title){\r\n                            tmp.title=tmp.groupName;\r\n                        }\r\n                        if (!tmp.key){\r\n                            tmp.key=tmp.groupCode;\r\n                        }\r\n                        item.title=item.groupName;\r\n                        item.key=item.groupCode;\r\n                        item.icon=<ApartmentOutlined/>\r\n                        delete item.groupName;\r\n                        delete item.groupCode;\r\n                        tmp.children.push(item);\r\n                    }\r\n                }\r\n            }else {\r\n                treeData.title= item.groupName;\r\n                treeData.key=item.groupCode;\r\n                treeData.children=item.children;\r\n            }\r\n        })\r\n        return treeData;\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios({\r\n            url: 'http://localhost:3000/api/orgGroup',\r\n            method: 'post',\r\n            headers: {Authorization: store.getState().token}\r\n        }).then(response => {\r\n            const groups =this.transData(response.data.groups);\r\n            console.log(groups);\r\n            this.setState({list:[groups]});\r\n        }).catch();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Tree treeData={this.state.list} icon={<ApartmentOutlined/>} showIcon={true} showLine={true}/>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AddGroups;\r\n"]},"metadata":{},"sourceType":"module"}